# 數位邏輯教學講義 第三章：卡諾圖化簡

---

## 🔰 **本章基礎觀念（零基礎必讀）**

上一章學了用代數法化簡布林表達式，但代數法需要「靈感」，不容易確定是否已經到最簡。
**卡諾圖 (Karnaugh Map, K-map)** 是一種圖形化的化簡工具——
你只要把真值表填進格子裡，照著規則圈群組，就能得到最簡表達式。

> **學完本章，你應該能做到：**
> 1. 畫出 2/3/4/5 變數的 K-map
> 2. 正確圈出所有質含項，識別必要質含項
> 3. 利用無關項(Don't Care)得到更簡的結果
> 4. 分別做 SOP 和 POS 化簡
> 5. 了解 Quine-McCluskey 法的基本概念

---

## 關鍵術語表

| 中文 | 英文 | 白話解釋 | 例子 |
|------|------|----------|------|
| 卡諾圖 | Karnaugh Map (K-map) | 把真值表排成特殊格子，方便化簡 | 4 變數 = 4×4 的格子 |
| 相鄰 | Adjacent | 兩個格子只有一個變數不同 | m₀和m₁ 相鄰 |
| 含項 | Implicant | 函數中的任一乘積項 | AB 是 F 的含項 |
| 質含項 | Prime Implicant (PI) | 不能再合併擴大的含項 | 已經是最大群組 |
| 必要質含項 | Essential PI (EPI) | 包含某個只被它涵蓋的最小項 | 非選不可的群組 |
| 無關項 | Don't Care (X / d) | 輸出無所謂是 0 或 1 | BCD 的 10~15 |
| 格雷碼順序 | Gray Code Order | 相鄰值只差一個 bit | 00,01,11,10 |

---

## 一、為什麼要化簡？

```
化簡前：F = A'B'C + A'BC + AB'C + ABC
         需要 4 個 AND 閘（各 3 輸入）+ 1 個 OR 閘（4 輸入）

化簡後：F = C
         只需要一條線！
```

**化簡 = 減少邏輯閘 = 省面積 + 省功耗 + 提高速度**

在 IC 設計中，面積就是成本，功耗影響電池壽命和散熱，速度決定晶片等級。

---

## 二、K-map 原理

### 核心概念

**兩個相鄰格子的最小項，只差一個變數 → 可以合併消去那個變數。**

```
例：A'BC + ABC = (A'+A)BC = BC

在 K-map 上，這兩個格子相鄰，圈起來就能消去 A。
```

### K-map 的排列規則

行和列的標記必須用**格雷碼順序**（相鄰只差 1 bit）：

```
不是 00, 01, 10, 11  ← 這樣 01 和 10 差兩個 bit！
而是 00, 01, 11, 10  ← 格雷碼順序
```

---

## 三、各種變數數的 K-map

### 3.1 二變數 K-map

```
        B
        0    1
A  0 | m₀ | m₁ |
   1 | m₂ | m₃ |
```

### 3.2 三變數 K-map

```
          BC
         00   01   11   10
A   0 | m₀ | m₁ | m₃ | m₂ |
    1 | m₄ | m₅ | m₇ | m₆ |
```

> 注意 BC 的順序是 00, 01, 11, 10（格雷碼），所以 m₃ 在 m₁ 右邊，m₂ 在最右邊。

### 3.3 四變數 K-map

```
              CD
            00   01   11   10
AB   00 | m₀ | m₁ | m₃ | m₂  |
     01 | m₄ | m₅ | m₇ | m₆  |
     11 | m₁₂| m₁₃| m₁₅| m₁₄ |
     10 | m₈ | m₉ | m₁₁| m₁₀ |
```

> AB 也是格雷碼順序：00, 01, 11, 10。

### 3.4 五變數 K-map

用兩個 4 變數 K-map 疊在一起（一個 E=0，一個 E=1），上下對應位置也是相鄰的。

```
E=0:                          E=1:
        CD                            CD
      00  01  11  10              00  01  11  10
AB 00| 0 | 1 | 3 | 2 |    AB 00|16 |17 |19 |18 |
   01| 4 | 5 | 7 | 6 |       01|20 |21 |23 |22 |
   11|12 |13 |15 |14 |       11|28 |29 |31 |30 |
   10| 8 | 9 |11 |10 |       10|24 |25 |27 |26 |

m₀ (E=0) 和 m₁₆ (E=1) 是相鄰的（只差 E 這個變數）
```

---

## 四、K-map 化簡步驟

### 步驟口訣：**填 → 圈 → 寫**

### Step 1：填入真值表

把函數值（0 或 1）填入 K-map 的對應格子。

### Step 2：圈出群組

**圈的規則**：
1. 只圈**值為 1** 的格子（SOP 化簡時）
2. 群組大小必須是 **2 的冪次**：1, 2, 4, 8, 16...
3. 群組必須是**矩形**（含正方形）
4. **越大越好**（圈越大，消去越多變數）
5. 每個 1 至少被圈到一次
6. 群組可以重疊
7. **邊界可以繞回**（上下、左右、四角都相鄰）

### Step 3：寫出化簡結果

每個群組對應一個乘積項：
- 群組內**不變的變數**保留（值為 1 用原形，值為 0 用補數）
- 群組內**會變的變數**消去

---

## 五、完整例題

### 【例題 1】3 變數 K-map 化簡

**F(A,B,C) = Σm(0,2,4,5,6)**

Step 1：填表
```
          BC
         00   01   11   10
A   0 |  1 |  0 |  0 |  1 |     ← m₀=1, m₂=1
    1 |  1 |  1 |  0 |  1 |     ← m₄=1, m₅=1, m₆=1
```

Step 2：圈群組
```
          BC
         00   01   11   10
A   0 | [1]|  0 |  0 | [1]|     ← 群組1: m₀,m₂,m₄,m₆（四角+繞回）
    1 | [1]| (1)|  0 | [1]|     ← 群組2: m₄,m₅

群組1（4格）：m₀, m₂, m₄, m₆ → A 變化，C 變化，B 不變(B=0) → B'
      但等等，我們要重新看：
      m₀(000), m₂(010), m₄(100), m₆(110)
      A 變化(0,0,1,1)，B 變化(0,1,0,1)，C 不變(0,0,0,0) → C'

群組2（2格）：m₄(100), m₅(101)
      A 不變(1)，B 不變(0)，C 變化 → AB'
```

Step 3：結果
```
F = C' + AB'
```

驗算：
- m₀(000): C'=1 ✓
- m₂(010): C'=1 ✓
- m₄(100): C'=1, AB'=1 ✓
- m₅(101): AB'=1 ✓
- m₆(110): C'=1 ✓

### 【例題 2】4 變數 K-map 化簡

**F(A,B,C,D) = Σm(0,1,2,4,5,6,8,9,12,13,14)**

Step 1：填表
```
              CD
            00   01   11   10
AB   00 |  1 |  1 |  0 |  1 |
     01 |  1 |  1 |  0 |  1 |
     11 |  1 |  1 |  0 |  1 |
     10 |  1 |  1 |  0 |  0 |
```

Step 2：圈群組
```
群組1（8格）：第00列和第01列全部
  m₀,m₁,m₄,m₅,m₈,m₉,m₁₂,m₁₃
  → D 不變(0,1,0,1...)等等，讓我重看
  CD=00和01 → D 變化，C 不變(C=0)
  AB 全部 → A,B 都變化
  保留：C' → 但 D 也在變...

  再看：C=0 的那兩列（CD=00 和 CD=01），所有 AB 組合都是 1
  C 不變=0, D 變化, A 變化, B 變化 → 只留 C'（消去 A,B,D）
  嗯，不對，8格消3個變數，只留1個。
  CD=00: C=0,D=0; CD=01: C=0,D=1 → C=0 固定
  AB=00,01,11,10 → A,B 都變
  所以：C'  ✓

群組2（4格）：m₀,m₂,m₄,m₆ → CD=00和10的AB=00和01行
  m₀(0000),m₂(0010),m₄(0100),m₆(0110)
  A=0不變, B變化, C變化, D=0不變 → A'D'

群組3（4格）：m₀,m₂,m₁₂,m₁₄（繞回！上下相鄰）
  m₀(0000),m₂(0010),m₁₂(1100),m₁₄(1110)
  A變化, B=0不變...不對，m₁₂是AB=11 → B變化
  讓我重新分析...

  m₀(0000), m₂(0010): AB=00, CD=00/10
  m₁₂(1100), m₁₄(1110): AB=11, CD=00/10
  A 變化, B 變化, C 變化, D=0 → D'
  但這只消 3 變數留 1 個，群組是4格(消2變數)...

  4格消2個變數，4變數留2個。
  AB: 00 和 11, CD: 00 和 10
  看不變的：D=0（固定）
  AB 從 00→11 不是格雷碼相鄰...但 K-map 上AB=00 和 AB=11 不相鄰。

  讓我重新圈：

群組2（4格）：m₂,m₆,m₁₄,m₁₀ → CD=10 那一列，但m₁₀=0，不行。

OK 重新來：

看 CD=10 那列：m₂=1, m₆=1, m₁₄=1, m₁₀=0
不能圈4格（m₁₀=0）。

圈 m₂,m₆（2格）：AB=00和01, CD=10
  A不變=0, B變化, C=1, D=0 → A'CD'

圈 m₁₄,m₆（2格）：AB=01和11, CD=10
  A變化, B=1, C=1, D=0 → BCD'

圈 m₁₂,m₁₄（2格）：AB=11, CD=00和10
  A=1, B=1, C變化, D=0 → ABD'

但其實群組1(C')已經涵蓋了很多1，我們只需要處理CD=10列剩下的 m₂, m₆, m₁₄。

群組2（2格）：m₂, m₆ → A'CD' ... 不太好

換個策略，群組2（4格）：m₀,m₂,m₄,m₆（AB=00和01的CD=00和10）
  A=0不變, B變化, C變化, D=0不變 → A'D'

群組3（4格）：m₁₂,m₁₃,m₁₄,m₆ → 不是矩形...

群組3（2格）：m₆, m₁₄ → AB=01和11, CD=10
  A變化, B=1, C=1, D=0 → BCD'

群組4（2格）：m₁₂, m₁₄ → AB=11, CD=00和10
  A=1, B=1, C變化, D=0 → ABD'
```

這個例子有點複雜了，讓我用一個更乾淨的例子重新示範。

**讓我重新出一個清楚的 4 變數例題。**

### 【例題 2（修正版）】4 變數 K-map 化簡

**F(A,B,C,D) = Σm(0,1,2,5,8,9,10)**

Step 1：填表
```
              CD
            00   01   11   10
AB   00 |  1 |  1 |  0 |  1 |     m₀,m₁,m₂ = 1
     01 |  0 |  1 |  0 |  0 |     m₅ = 1
     11 |  0 |  0 |  0 |  0 |
     10 |  1 |  1 |  0 |  1 |     m₈,m₉,m₁₀ = 1
```

Step 2：圈群組

```
群組1（4格）：m₀, m₁, m₈, m₉
  位置：AB=00的CD=00,01 和 AB=10的CD=00,01（上下繞回相鄰）
  A 變化, B=0不變, C=0不變, D 變化
  → B'C'

群組2（4格）：m₀, m₂, m₈, m₁₀
  位置：AB=00的CD=00,10 和 AB=10的CD=00,10（上下繞回+左右繞回）
  A 變化, B=0不變, C 變化, D=0不變
  → B'D'

群組3（2格）：m₁, m₅
  位置：AB=00和01的CD=01
  A=0不變, B 變化, C=0不變, D=1不變
  → A'C'D

結果不對，讓我再看... m₁(0001): A=0,B=0 → AB=00; m₅(0101): A=0,B=1 → AB=01
A=0 不變, B 變化, C=0, D=1 → A'C'D

嗯不太漂亮...
```

Step 3：結果
```
F = B'C' + B'D' + A'C'D
```

我覺得用更乾淨的例子會更好教學，讓我換一個。

---

### 【例題 2（重新整理版）】4 變數 K-map 化簡

**F(A,B,C,D) = Σm(0,2,3,5,7,8,10,11,13,15)**

Step 1：填表
```
              CD
            00   01   11   10
AB   00 |  1 |  0 |  1 |  1 |     m₀,m₃,m₂
     01 |  0 |  1 |  1 |  0 |     m₅,m₇
     11 |  0 |  1 |  1 |  0 |     m₁₃,m₁₅
     10 |  1 |  0 |  1 |  1 |     m₈,m₁₁,m₁₀
```

Step 2：圈群組

```
群組1（4格，矩形）：m₃, m₇, m₁₅, m₁₁ → CD=11 那一整列
  AB: 00,01,11,10 全變化 → A,B 消去
  CD: 11 不變 → C=1, D=1
  結果：CD

群組2（4格，上下繞回）：m₀, m₂, m₈, m₁₀
  AB=00(上)和AB=10(下)繞回相鄰
  A 變化, B=0 不變, C 變化, D=0 不變
  結果：B'D'

群組3（4格）：m₅, m₇, m₁₃, m₁₅
  AB=01和11, CD=01和11
  A 變化, B=1 不變, C 變化, D=1 不變
  結果：BD
```

Step 3：結果
```
F = CD + B'D' + BD

再化簡：
F = CD + D(B) + D'(B')
  = CD + BD + B'D'

或者注意 BD + CD = D(B+C)：
F = D(B+C) + B'D'
  = BD + CD + B'D'
```

---

好，以上的過程展示了思考過程，但教學講義中我們用更清楚的例題。以下是正式的例題系列：

---

### 【例題 3】經典 4 變數 K-map 化簡

**F(A,B,C,D) = Σm(1,3,5,7,9,11,13,15)**

Step 1：填表
```
              CD
            00   01   11   10
AB   00 |  0 |  1 |  1 |  0 |
     01 |  0 |  1 |  1 |  0 |
     11 |  0 |  1 |  1 |  0 |
     10 |  0 |  1 |  1 |  0 |
```

Step 2：圈群組
```
一個大群組（8格）：CD=01和CD=11的全部
D=1 不變（C 變化, A 變化, B 變化 → 全部消去）
```

Step 3：結果
```
F = D
```

> 8格消去3個變數，只留1個！圈越大越好。

---

### 【例題 4】含無關項的 K-map

**F(A,B,C,D) = Σm(1,3,7,11,15) + d(0,2,5)**

（d 代表 Don't Care，可以當 1 也可以當 0）

Step 1：填表
```
              CD
            00   01   11   10
AB   00 |  X |  1 |  1 |  X |     m₀=X, m₁=1, m₃=1, m₂=X
     01 |  0 |  X |  1 |  0 |     m₅=X, m₇=1
     11 |  0 |  0 |  1 |  0 |     m₁₅=1
     10 |  0 |  0 |  1 |  0 |     m₁₁=1
```

Step 2：圈群組（X 可以選擇當 1 來幫助擴大群組）

```
群組1（8格）：把 m₀,m₂ 的 X 當作 1
  m₀,m₁,m₂,m₃,m₅,m₇ + m₄,m₆...
  不行，m₄=0 和 m₆=0。

群組1（4格）：m₁,m₃,m₅(X→1),m₇
  AB=00和01, CD=01和11
  A=0 不變, B 變化, C 變化, D=1 不變
  → A'D

群組2（4格）：m₃,m₇,m₁₁,m₁₅ → CD=11 那列
  但 m₃,m₇ 在上半，m₁₁,m₁₅ 在下半
  AB: 00,01,11,10 全變，CD=11 不變
  → CD

利用 X：
群組1'（8格）：m₀(X→1),m₁,m₂(X→1),m₃ + m₄→0不行...
不行。

正確圈法：
群組1（4格）：m₀(X→1), m₁, m₂(X→1), m₃
  AB=00, CD=全部 → A=0,B=0 → A'B'

群組2（4格）：m₃, m₇, m₁₅, m₁₁
  CD=11 全列 → CD

群組3（2格）：m₅(X→1), m₇
  AB=01, CD=01和11 → A=0,B=1,D=1 → A'BD
  但 m₅ 已被群組1 和群組2 覆蓋？不，m₅ 不在群組1或2中。
  m₅(0101): AB=01, CD=01
  群組1 只有 AB=00
  群組2 只有 CD=11
  所以 m₅(X) 如果不圈也沒關係（它是 X）
```

Step 3：結果
```
F = A'B' + CD
```

> **無關項的好處**：把 X 當 1 可以擴大群組，得到更簡的結果。
> 如果不用 X，結果會是 A'B'C' + A'B'D + CD = 比較複雜。

---

### 【例題 5】POS 化簡

**F(A,B,C,D) = ΠM(0,1,2,3,8,9,14,15) = Σm(4,5,6,7,10,11,12,13)**

**POS 化簡**：圈「0」而不是圈「1」。

Step 1：填表
```
              CD
            00   01   11   10
AB   00 |  0 |  0 |  0 |  0 |
     01 |  1 |  1 |  1 |  1 |
     11 |  1 |  1 |  0 |  0 |
     10 |  1 |  1 |  1 |  1 |
```

Step 2：圈「0」

```
群組A（4格 of 0）：m₀,m₁,m₂,m₃ → AB=00 整行
  A=0, B=0 不變 → 對應 Maxterm 因子 (A+B)

群組B（4格 of 0）：m₂,m₃,m₁₄,m₁₅ →
  m₂(0010),m₃(0011): AB=00,CD=11/10
  m₁₄(1110),m₁₅(1111): AB=11,CD=11/10
  不相鄰...

  m₁₄和m₁₅: AB=11, CD=10和11
  m₂和m₃: AB=00, CD=10和11
  AB=00和11不相鄰（K-map上不是鄰居）

群組B（2格 of 0）：m₁₄,m₁₅ → AB=11, CD=10和11
  A=1, B=1, C=1, D 變化 →
  POS 寫法：變數值為1取補 → (A'+B'+C')

群組C：m₀,m₁ 已在群組A中。

重新圈：
群組A（4格）：AB=00 整行 → A=0, B=0 → (A+B)
群組B（2格）：m₁₄, m₁₅ → A=1,B=1,C=1 → (A'+B'+C')
```

Step 3：POS 結果
```
F = (A+B)(A'+B'+C')
```

> **POS 化簡規則**：
> - 圈的是「0」
> - 不變的變數：值為 0 → 原形，值為 1 → 補數（跟 SOP 相反！）
> - 各群組對應一個「和項」(Sum term)，最後乘起來

---

### 【例題 6】5 變數 K-map 簡介

**F(A,B,C,D,E) = Σm(0,2,4,6,9,11,13,15,17,21,25,29)**

用兩張 4 變數 K-map（E=0 和 E=1）。上下對應位置也相鄰。

```
E=0:                              E=1:
        CD                              CD
      00  01  11  10                  00  01  11  10
AB 00| 1 | 0 | 0 | 1 |         AB 00| 0 | 1 | 0 | 0 |
   01| 1 | 0 | 0 | 1 |            01| 0 | 1 | 0 | 0 |
   11| 0 | 0 | 0 | 0 |            11| 0 | 1 | 0 | 0 |
   10| 0 | 0 | 0 | 0 |            10| 0 | 1 | 0 | 0 |

m₀,m₂,m₄,m₆ (E=0, B=0, D=0)     m₉,m₁₁,m₁₃,m₁₅ (E=1, D=1)
                                   m₁₇,m₂₁,m₂₅,m₂₉ (E=1, CD=01)
```

```
群組1（4格）：m₀,m₂,m₄,m₆ → E=0, D=0, A=0 → A'D'E'
  （B 變化, C 變化 消去）

群組2（8格）：m₉,m₁₁,m₁₃,m₁₅,m₁₇,m₂₁,m₂₅,m₂₉
  全部在 E=1, CD=01
  E=1, C=0, D=1, A 變化, B 變化
  → C'DE
```

結果：**F = A'D'E' + C'DE**

---

## 六、質含項與必要質含項

### 定義

- **含項 (Implicant)**：函數值為 1 的最小項，或其合法合併
- **質含項 (Prime Implicant, PI)**：不能再跟其他含項合併的含項（最大的合法群組）
- **必要質含項 (Essential Prime Implicant, EPI)**：某個最小項只被一個 PI 涵蓋，那個 PI 就是 EPI

### 化簡策略

1. 找出所有 PI（所有最大合法群組）
2. 找出所有 EPI（非選不可的 PI）
3. 先選 EPI
4. 再從剩餘 PI 中選最少的來涵蓋剩餘的 1

---

## 七、Quine-McCluskey 法簡介

K-map 在 5 變數以上就不太實用了。**Quine-McCluskey (QM) 法**是一種系統化、可以用程式實現的化簡方法。

### 步驟概要

1. **列出所有最小項**，按 1 的個數分組
2. **比較相鄰組**，找出只差 1 bit 的項目合併（用 - 代替消去的變數）
3. **重複合併**，直到不能再合併 → 得到所有 PI
4. 用**質含項表 (PI Chart)**，找出 EPI 和最少覆蓋

### QM 法的優勢

- 適合超過 5 個變數
- 可以寫成程式自動執行
- 保證得到最簡結果

### QM 法的劣勢

- 手算很繁瑣
- 計算量隨變數指數增長

> 考試通常只考 K-map（4~5 變數），但要知道 QM 法的概念。

---

## 八、SOP 化簡 vs POS 化簡

| | SOP 化簡 | POS 化簡 |
|--|---------|---------|
| 圈什麼 | 圈 1 | 圈 0 |
| 不變變數 | 1→原形, 0→補數 | 0→原形, 1→補數 |
| 結果形式 | 乘積項之和 | 和項之積 |
| 何時用 | 1 比較少時 | 0 比較少時 |

> **選擇哪種？看 1 和 0 哪個少就圈哪個，得到的式子更簡！**

---

## 九、題型鑑別表

| 題目關鍵字 | 該用什麼方法 |
|-----------|-------------|
| 「用 K-map 化簡 SOP」 | 圈 1，寫乘積項之和 |
| 「用 K-map 化簡 POS」 | 圈 0，寫和項之積 |
| 「有 Don't Care」 | X 可當 1 也可當 0，選有利的 |
| 「找出所有 PI」 | 找所有最大合法群組 |
| 「找出 EPI」 | 找只被一個 PI 涵蓋的最小項 |
| 「5+ 變數化簡」 | 用兩張 K-map 或 QM 法 |
| 「最少邏輯閘實現」 | SOP/POS 都算，選較簡的 |

---

## ✅ 自我檢測

### Q1：化簡 F(A,B,C) = Σm(0,1,2,3,7)。

<details>
<summary>點擊查看答案</summary>

```
          BC
         00   01   11   10
A   0 |  1 |  1 |  1 |  1 |
    1 |  0 |  0 |  1 |  0 |

群組1（4格）：m₀,m₁,m₂,m₃ → A=0 全部 → A'
群組2（2格）：m₃,m₇ → BC=11, A 變化 → BC

F = A' + BC
```
</details>

### Q2：化簡 F(A,B,C,D) = Σm(0,4,5,7,8,12,13,15)。

<details>
<summary>點擊查看答案</summary>

```
              CD
            00   01   11   10
AB   00 |  1 |  0 |  0 |  0 |
     01 |  1 |  1 |  1 |  0 |
     11 |  1 |  1 |  1 |  0 |
     10 |  1 |  0 |  0 |  0 |

群組1（4格）：m₀,m₄,m₈,m₁₂ → CD=00 全列 → C'D'
群組2（4格）：m₅,m₇,m₁₃,m₁₅ → AB=01和11, CD=01和11 → BD
群組3（2格）：m₄,m₅ → AB=01,CD=00和01 → A'BC'

等等，群組3 的 m₄ 已被群組1 涵蓋，m₅ 已被群組2 涵蓋，所以不需要群組3。

F = C'D' + BD
```
</details>

### Q3：化簡 F(A,B,C,D) = Σm(2,6,8,9,10,11,14) + d(0,3,5)。

<details>
<summary>點擊查看答案</summary>

```
              CD
            00   01   11   10
AB   00 |  X |  0 |  X |  1 |
     01 |  0 |  X |  0 |  1 |
     11 |  0 |  0 |  0 |  1 |
     10 |  1 |  1 |  1 |  1 |

群組1（8格）：AB=10 全行 + 利用 X
  m₈,m₉,m₁₀,m₁₁ → AB=10 → 4格 → A B'...
  不，先用大群組：m₀(X),m₂,m₈,m₁₀ + m₃(X),m₁₁...

  m₂,m₆,m₁₀,m₁₄：CD=10 全列 → D'C → 嗯
  CD=10: C=1,D=0
  AB 全變 → CD' ... 不對，讓我看清楚。
  CD=10 在 K-map 意思是 C=1, D=0
  全部4行都是1或X → 可以圈！
  → C D'... 不對。CD=10 → C=1, D=0 → CD'

群組1（4格）：m₂,m₆,m₁₀,m₁₄ → CD=10全列 → CD'

群組2（4格 with X）：m₈,m₉,m₁₀,m₁₁ → AB=10 → AB'
  A=1,B=0 → AB'... 不對，AB=10 是 A=1,B=0 → A(B')

群組3（4格 with X）：m₀(X),m₂,m₈,m₁₀ → CD=00和10的AB=00和10(繞回)
  A 變化, B=0, C 變化, D=0 → B'D'

用 X 好好圈：
群組A（4格）：m₂,m₆,m₁₀,m₁₄ → CD'
群組B（8格）：m₀(X→1),m₂,m₈,m₁₀ + m₃(X→1),m₁₁,m₉,m₁(不是1)
  不行。

群組B（4格）：m₈,m₉,m₁₀,m₁₁ → AB=10 全部 → AB' (A=1,B=0)

這樣 m₅(X) 不用管（不需要）。

F = CD' + AB'

驗算：
m₂(0010): CD'=1·0'=1 ✓
m₆(0110): CD'=1·0'=1 ✓  但等等 C=1,D=0 → CD'=1 ✓
m₈(1000): AB'=1 ✓ (A=1,B=0)
m₉(1001): AB'=1 ✓
m₁₀(1010): 兩個都滿足 ✓
m₁₁(1011): AB'=1 ✓
m₁₄(1110): CD'=1 ✓

F = CD' + AB'
```
</details>

### Q4：什麼是「必要質含項」？為什麼重要？

<details>
<summary>點擊查看答案</summary>

**必要質含項 (Essential Prime Implicant, EPI)**：
某個最小項只被一個質含項涵蓋時，該質含項就是必要質含項。

**重要性**：
- EPI 一定要被包含在最終結果中（沒有替代方案）
- 找到 EPI 後，先放入結果，再處理剩餘未覆蓋的最小項
- 這是系統化求最簡式的關鍵步驟
</details>

### Q5：K-map 上為什麼邊界可以繞回？

<details>
<summary>點擊查看答案</summary>

因為 K-map 用格雷碼排列，**最左列和最右列只差一個變數**，
**最上行和最下行也只差一個變數**，符合「相鄰」的定義。

例如 4 變數 K-map：
- CD=00 和 CD=10（左右邊界）只差 C 這個變數
- AB=00 和 AB=10（上下邊界）只差 A 這個變數

所以 K-map 其實是一個**環面 (Torus)**，上下、左右都是相連的。
</details>

### Q6：用 POS 化簡 F(A,B,C) = ΠM(1,3,5)。

<details>
<summary>點擊查看答案</summary>

```
          BC
         00   01   11   10
A   0 |  1 |  0 |  0 |  1 |
    1 |  1 |  0 |  1 |  1 |

圈 0：
群組1（2格）：m₁,m₃ → A=0,C=1 → (A+C')
群組2（2格）：m₁,m₅ → B=0,C=1 → (B+C')

F = (A+C')(B+C')

或者再化簡：= (A+C')(B+C') = C' + AB （展開驗證）
```
</details>

---

> **下一章預告**：學完化簡技巧後，下一章我們要用這些化簡後的布林式來設計實際的組合邏輯電路——加法器、解碼器、多工器等等！
