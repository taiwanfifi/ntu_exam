# 方案六：記憶駭客

### 賽博朋克 × 心理懸疑 × 演算法教學

> *「你以為記憶是你的？不，記憶是一種資料格式。而所有資料格式，都可以被改寫。」*
> *—— 零號病人，記憶銀行創始人*

---

## 一句話概念

```
2089年。記憶可以被數位化、儲存、交易。
一個底層記憶修復師，收到一份「來自未來」的記憶檔案。
修復它的過程中，他發現——
整座城市的人，記著的都是「從未發生過的事」。
```

---

## 為什麼是「記憶」？

```
問：為什麼記憶是教演算法的完美載體？

答：因為記憶本身就是資料。

  記憶檔案   →  資料結構（Array, Linked List, Tree, Graph）
  記憶搜尋   →  搜尋演算法（Binary Search, DFS, BFS）
  記憶排序   →  排序演算法（混亂碎片 → 重建時間線）
  記憶驗證   →  Hash（驗證記憶是否被篡改）
  記憶壓縮   →  Trie（共同前綴 = 共同記憶）
  記憶加密   →  Bit Manipulation（位元級的記憶鎖）
  記憶網路   →  Graph（人與人之間的記憶連結）
  記憶依賴   →  TopSort（A記憶必須先存在，B記憶才成立）
  記憶取捨   →  DP（有限儲存空間，保留最重要的記憶）
  記憶備份   →  System Design（分散式記憶儲存架構）

在這個世界裡，「修復一段記憶」就是「對一個資料結構執行演算法」。
讀者不是在學抽象概念——他們是在跟主角一起「修記憶」。
```

---

---

# 第一部分：世界觀全貌

---

## 世界設定：新台北，2089

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                   │
│   西元 2089 年。城市的名字叫「新台北」。                          │
│                                                                   │
│   四十年前，神經科學家周明哲（代號「零號病人」）發明了             │
│   「記憶數位化協議」（Memory Digitization Protocol, MDP）。        │
│                                                                   │
│   從那天起，人類的記憶不再只存在於突觸之間。                      │
│   記憶可以被：                                                    │
│     ▸ 提取（Upload）  —— 從大腦匯出為數位檔案                    │
│     ▸ 儲存（Store）   —— 存在外部記憶體或雲端                    │
│     ▸ 備份（Backup）  —— 防止意外遺忘                            │
│     ▸ 修復（Repair）  —— 修復損壞或碎片化的記憶                  │
│     ▸ 移植（Implant） —— 將他人的記憶植入自己的大腦              │
│     ▸ 交易（Trade）   —— 在黑市上買賣記憶                        │
│                                                                   │
│   「記憶銀行」（Memory Bank）取代了傳統銀行。                     │
│   你的記憶就是你的資產。你的人生經歷就是你的存款。                │
│   技能記憶可以出租。情感記憶可以販售。                            │
│   而「遺忘」——是這個時代最恐怖的破產。                           │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

### 記憶的「檔案格式」

```
每一段數位化記憶都有固定的資料結構：

╔══════════════════════════════════════════════════════════╗
║  MEMORY FILE FORMAT v7.2                                 ║
╠══════════════════════════════════════════════════════════╣
║                                                          ║
║  [HEADER]                                                ║
║    ├─ timestamp    : 2089-03-15T14:32:07                 ║
║    ├─ owner_id     : MZK-7721-GAMMA                      ║
║    ├─ integrity    : SHA-256 hash                        ║
║    ├─ emotion_tag  : {joy: 0.7, fear: 0.1, anger: 0.0}  ║
║    └─ dependency   : [mem_0042, mem_0108, mem_0331]      ║
║                                                          ║
║  [SENSORY_DATA]                                          ║
║    ├─ visual[]     : 時間序列影像陣列（Array）            ║
║    ├─ audio[]      : 音頻序列（Linked List 串接）        ║
║    ├─ tactile{}    : 觸覺樹（Tree 結構，分層細節）       ║
║    └─ scent{}      : 嗅覺雜湊（HashMap 快速索引）        ║
║                                                          ║
║  [CONTEXT_GRAPH]                                         ║
║    └─ 與其他記憶的關聯：Graph（人物、地點、事件節點）    ║
║                                                          ║
║  [COMPRESSION]                                           ║
║    └─ 重複片段壓縮：Trie（共同前綴 = 共同經歷）         ║
║                                                          ║
╚══════════════════════════════════════════════════════════╝

→ 讀者自然理解：每種資料結構不是抽象的，是記憶的一部分。
  Array 是你看到的畫面序列。
  Linked List 是你聽到的聲音串流。
  Tree 是你觸覺從粗到細的層次。
  HashMap 是你聞到某個味道瞬間想起某件事。
  Graph 是你所有記憶之間的關聯網路。
```

### 社會階層

```
新台北的社會分為五個階層，取決於你的「記憶資產」：

  ┌─────────────────────────────────────────────────┐
  │  第一階：記憶寡頭（Memory Oligarchs）            │
  │    ▸ 擁有數萬年份的記憶庫存                     │
  │    ▸ 包括已故天才的技能記憶（愛因斯坦級）       │
  │    ▸ 全新台北不到 100 人                        │
  ├─────────────────────────────────────────────────┤
  │  第二階：記憶中產（Memory Bourgeoisie）          │
  │    ▸ 穩定的記憶儲蓄，定期備份                   │
  │    ▸ 能負擔「技能記憶租賃」（如：租用鋼琴技能） │
  ├─────────────────────────────────────────────────┤
  │  第三階：記憶工人（Memory Workers）              │
  │    ▸ 靠出賣「體驗記憶」為生                     │
  │    ▸ 主角程維倫所在的階層                         │
  ├─────────────────────────────────────────────────┤
  │  第四階：記憶負債者（Memory Debtors）            │
  │    ▸ 為了還債而被強制提取記憶                   │
  │    ▸ 逐漸失去自我認同                           │
  ├─────────────────────────────────────────────────┤
  │  第五階：空白人（Blanks）                        │
  │    ▸ 所有記憶都被提取殆盡                       │
  │    ▸ 活著，但不記得自己是誰                     │
  │    ▸ 在街角遊蕩，是新台北最底層的存在           │
  └─────────────────────────────────────────────────┘
```


### 關鍵組織

```
三大勢力：

  ╔═══════════════════════════════════════════════════════════╗
  ║  1. 記憶銀行（Memory Bank）                               ║
  ║     ▸ 壟斷記憶儲存與交易的超級企業                       ║
  ║     ▸ 表面上：保護市民的記憶安全                         ║
  ║     ▸ 實際上：掌控了全城 87% 的記憶數據                  ║
  ║     ▸ CEO 是「織夢者」，真實身份不明                     ║
  ╠═══════════════════════════════════════════════════════════╣
  ║  2. 記憶解放陣線（Memory Liberation Front, MLF）          ║
  ║     ▸ 地下反抗組織                                       ║
  ║     ▸ 主張「記憶不應該被私有化」                         ║
  ║     ▸ 手段激進——會駭入記憶銀行釋放記憶                  ║
  ║     ▸ 領袖代號「織網者」                                   ║
  ╠═══════════════════════════════════════════════════════════╣
  ║  3. 深淵監控局（The Abyss Bureau）                        ║
  ║     ▸ 政府的祕密機構                                     ║
  ║     ▸ 負責「記憶犯罪」的調查與鎮壓                      ║
  ║     ▸ 擁有最先進的記憶掃描技術                           ║
  ║     ▸ 但他們自己的記憶......也被動過手腳                 ║
  ╚═══════════════════════════════════════════════════════════╝
```

---

---

# 第二部分：六層結構 ——「天花板變地板」

---

> 設計哲學：每一層揭露都讓前一層看起來像「新手教學」。
> 讀者以為自己看到了全貌，結果那只是冰山一角。
> 像《海賊王》從東海到偉大航路到新世界——
> 每一次，天花板都變成了地板。

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                       │
│   【讀者的認知變化】                                                 │
│                                                                       │
│   第一層  →  「哦，這是一個修記憶的故事」                            │
│   第二層  →  「等等，有人在大規模篡改記憶？」                        │
│   第三層  →  「整個城市的歷史都是假的！？」                          │
│   第四層  →  「不只城市——連反抗組織都是被設計出來的」               │
│   第五層  →  「......主角自己的記憶也是假的」                        │
│   第六層  →  「這整個世界的時間線......被人從根基重寫過」            │
│                                                                       │
│   每一層都讓前一層的「大Boss」變成更大棋局中的棋子。                 │
│                                                                       │
└─────────────────────────────────────────────────────────────────────┘
```

### 第一層：修復師的日常（第 1-3 章）

```
表面認知：主角是底層記憶修復師，接一些小案子維生。
          世界觀 = 個人層級。
          記憶損壞就像硬碟壞軌，修一修就好。

演算法：   Array / Two Pointers, Sliding Window, HashMap

讀者以為：這是一個「修理工逆襲」的故事。
          主角會接到越來越大的案子，慢慢出人頭地。

實際上：   主角接到的那份「未來記憶」，
          裡面藏著的東西，能讓整個記憶銀行崩潰。
```

### 第二層：篡改的痕跡（第 4-6 章）

```
表面認知：有人在篡改個別市民的記憶。看起來是普通的記憶犯罪。
          世界觀 = 社區層級。
          幾十個人的記憶被改過——某個犯罪組織幹的？

演算法：   Stack/Queue, Linked List, Binary Search

讀者以為：反派是某個黑市記憶駭客集團。
          主角要找出他們，阻止篡改。

天花板變地板：
          被篡改的不是「幾十個人」。
          是幾十萬人。
          而且篡改的不是隨機記憶——
          是所有人關於「同一個事件」的記憶。
          那個事件，官方說「從未發生過」。
```

### 第三層：被抹去的歷史（第 7-9 章）

```
表面認知：十年前，新台北發生過一場巨大的災難（「記憶大崩潰」）。
          官方說那是一次技術事故。
          但真相是——那是一次「計畫性的集體記憶重寫」。
          世界觀 = 城市層級。

演算法：   Tree (BST/DFS/BFS), Graph (DFS/BFS/Connected Components)

讀者以為：記憶銀行是幕後黑手。
          他們為了掩蓋事故真相，篡改了全城的記憶。
          主角要對抗一個邪惡企業。

天花板變地板：
          記憶銀行確實做了篡改。
          但他們是「被指示」這麼做的。
          指示他們的人......是記憶解放陣線的領袖「織網者」。
          反抗組織和壟斷企業，是同一個人在操控。
```

### 第四層：棋盤上的棋子（第 10-12 章）

```
表面認知：「織網者」同時操控記憶銀行和解放陣線，
          製造對立，讓自己永遠站在贏的那一邊。
          世界觀 = 權力結構層級。

演算法：   TopSort / Union-Find / Dijkstra, DP

讀者以為：「織網者」就是最終Boss。
          打倒她，一切就結束了。

天花板變地板：
          「織網者」也是棋子。
          她的記憶也被改過。
          她以為自己是操控者——但她的「操控慾望」本身，
          是被植入的。
          真正的操控者，是一個已經「死了」十年的人：
          記憶數位化技術的發明者——周明哲，「零號病人」。
          他沒有死。他把自己的意識分散儲存在整個記憶網路中。
```

### 第五層：主角的真相（第 13-14 章）

```
表面認知：周明哲是終極幕後黑手。
          他以分散式的形式「活」在記憶網路裡，
          像一個 God-level AI 操控一切。
          世界觀 = 存在層級。

演算法：   Backtracking, Greedy, Heap/Priority Queue

讀者以為：主角要找到並「刪除」分散在網路中的周明哲。

天花板變地板：
          主角程維倫，發現自己不是「碰巧」收到那份未來記憶的。
          他就是周明哲的備份之一。
          他的「修復師技能」、他的「性格」、他的「人生經歷」——
          全部都是周明哲設計好的。
          他是周明哲用來「觀察自己的實驗是否成功」的觀測器。
          他以為的「自我」，是別人寫好的程式。
```

### 第六層：時間線的真相（第 15 章 + 尾聲）

```
最終認知：一切的一切——記憶銀行、解放陣線、篡改、陰謀——
          都不是重點。
          重點是：周明哲發現了「記憶」的本質。
          記憶不是「過去發生的事的紀錄」。
          記憶是「意識用來建構現實的程式碼」。
          改變記憶，就是改變現實。不是比喻，是字面意義。
          世界觀 = 存在本質層級。

演算法：   Trie, Sorting, Bit Manipulation, System Design

天花板變地板：
          這不是「一個人篡改了全城記憶」的故事。
          這是「一個人試圖重寫現實本身」的故事。
          而程維倫——作為周明哲的備份——
          是唯一能選擇「讓這個新現實繼續存在」
          還是「還原一切」的人。

          但問題是：如果還原，
          現在活著的人、現在的關係、現在的情感——
          全部都會消失。
          因為它們建立在「假記憶」之上。

          你會選擇「真實但痛苦的過去」，
          還是「虛假但美好的現在」？
```


---

---

# 第三部分：核心角色群像

---

> 設計原則：每個角色都有「表面身份」和「真實身份」。
> 每個角色的記憶都可能是假的。
> 讀者永遠在猜：誰在說真話？

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                       │
│   「在一個記憶可以被偽造的世界，                                     │
│     你怎麼知道誰是真的？」                                           │
│                                                                       │
│   答案是：你不知道。                                                 │
│   這就是這個故事最迷人的地方。                                       │
│                                                                       │
└─────────────────────────────────────────────────────────────────────┘
```

---

### 角色一：程維倫（主角）

```
╔══════════════════════════════════════════════════════════════╗
║  程維倫（黑市代號：W.L.）                                    ║
║  28歲｜記憶修復師｜第三階：記憶工人                          ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  【表面】                                                    ║
║  新台北下城區的獨立記憶修復師。沒有執照，只接地下單。        ║
║  話少。不社交。工作的時候像外科醫生一樣專注，                ║
║  平常像一台待機中的機器。                                    ║
║  住在一間只有六坪的公寓裡，牆上貼滿了修復失敗的記憶碎片     ║
║  的列印稿——他從不扔掉，說「每一次失敗都是一個教訓」。      ║
║                                                              ║
║  口頭禪：「記憶壞了可以修。人壞了沒辦法。」                 ║
║                                                              ║
║  【真相（第五層揭露）】                                      ║
║  他不是「碰巧」成為修復師的。                                ║
║  他的整個人生——包括父母早逝、獨自長大、自學修復技術——      ║
║  都是周明哲精心設計的「培養路徑」。                          ║
║  他是周明哲的「觀測用備份」：                                ║
║  一個被植入特定記憶、被引導到特定技能的「棋子」。            ║
║                                                              ║
║  但關鍵反轉：                                                ║
║  即使他的記憶是假的，他在修復過程中產生的                    ║
║  「新記憶」——對委託人的同理心、對真相的執著——              ║
║  是真實的。                                                  ║
║  他的設計者沒有預料到這一點。                                ║
║  這讓他成為唯一能「超越設計」的存在。                        ║
║                                                              ║
║  【演算法角色】                                              ║
║  程維倫的修復手法 = 讀者學到的演算法。                         ║
║  他怎麼修記憶，讀者就怎麼學演算法。                         ║
║  他是讀者在這個世界的「手」。                                ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

---

### 角色二：林語青（神秘委託人）

```
╔══════════════════════════════════════════════════════════════╗
║  林語青（Lin Yuqing）                                        ║
║  26歲｜身份不明｜帶著「未來記憶」出現                        ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  【表面】                                                    ║
║  第一章結尾出現在程維倫工作室的女人。                          ║
║  穿著不合時宜的白色大衣，像是從實驗室直接走出來的。          ║
║  說話很少，但每一句都精準得像程式碼。                        ║
║  帶著一份「不可能存在的記憶」——時間戳顯示是 2091 年，       ║
║  比現在晚了兩年。                                            ║
║                                                              ║
║  她的眼神裡有某種東西讓程維倫無法拒絕。                        ║
║  不是恐懼。不是誘惑。                                        ║
║  是「認出」——像是她見過他很多次，但他一次都不記得。         ║
║                                                              ║
║  口頭禪：「你會想起來的。你每次都會。」                     ║
║                                                              ║
║  【真相（分段揭露）】                                        ║
║  第三層揭露：她是記憶大崩潰的倖存者，擁有「未被篡改」       ║
║              的原始記憶。她記得真正的歷史。                   ║
║  第四層揭露：她是「織網者」的女兒。                            ║
║              她偷了母親的核心數據才逃出來的。                 ║
║  第五層揭露：她不是「來自現在」。                            ║
║              那份未來記憶是「她自己的」。                     ║
║              她經歷過一次時間線重寫，                        ║
║              她的意識從「被重寫前的時間線」殘留下來。         ║
║              她是一個時間悖論的產物。                         ║
║                                                              ║
║  【角色功能】                                                ║
║  她是「謎題的提供者」。                                      ║
║  每一章，她透露一點點資訊，                                  ║
║  但每一次透露都製造更多疑問。                                ║
║  讀者會不斷猜測：她到底站在哪一邊？                         ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

---

### 角色三：嚴柏翰（深淵監控局探員）

```
╔══════════════════════════════════════════════════════════════╗
║  嚴柏翰（Yen Bo-Han）                                       ║
║  34歲｜深淵監控局高級探員｜代號「獵犬」                      ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  【表面】                                                    ║
║  深淵監控局的王牌。偵破記憶犯罪率全局第一。                  ║
║  總是穿著黑色長風衣，左眼有一道從眉毛延伸到顴骨的舊疤——    ║
║  他說那是「上一次信任別人的紀念品」。                        ║
║                                                              ║
║  性格冷硬、高效、不留情面。                                  ║
║  審訊的時候不威脅也不利誘，只是不停問問題，                  ║
║  問到你自己都發現自己在說謊為止。                            ║
║  同事說他「不像在辦案，像在 debug」。                        ║
║                                                              ║
║  口頭禪：「記憶會騙人。但資料不會。」                       ║
║                                                              ║
║  【真相（第四層揭露）】                                      ║
║  他一直在追查記憶篡改案，但他不知道的是——                   ║
║  他自己的記憶被改過三次。                                    ║
║  他原本不是「探員」。他是記憶解放陣線的初創成員。            ║
║  十年前的記憶大崩潰中，他被捕、記憶被重寫、                 ║
║  被植入「忠誠的執法者」人格。                                ║
║                                                              ║
║  他追查的案子，最終會指向他自己的過去。                      ║
║  當他發現真相時，他要面對的不是「敵人」，                    ║
║  而是「自己曾經是敵人」。                                    ║
║                                                              ║
║  【演算法角色】                                              ║
║  他的辦案方法 = Graph 搜索。                                 ║
║  他擅長從線索建構關係圖，找到 Connected Components。          ║
║  他的記憶重寫 = 讀者理解「資料可以被修改」的範例。           ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

---

### 角色四：邱韻如（「織網者 Weaver」）

```
╔══════════════════════════════════════════════════════════════╗
║  邱韻如（代號「織網者 Weaver」）                             ║
║  52歲｜記憶解放陣線領袖 & 記憶銀行幕後操控者                 ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  【表面（作為「織網者」）】                                    ║
║  記憶解放陣線的神祕領袖。從不露面，只通過加密記憶通訊。      ║
║  追隨者把她當成救世主——「要把記憶從企業手中解放出來」。     ║
║                                                              ║
║  【表面（作為邱韻如）】                                        ║
║  記憶銀行的首席技術顧問。溫和、優雅、學者氣質。              ║
║  公開場合總是微笑著談論「記憶技術如何造福人類」。            ║
║  沒有人懷疑這兩個身份是同一個人。                            ║
║                                                              ║
║  口頭禪（作為織網者）：「自由不是被給予的，是被奪取的。」     ║
║  口頭禪（作為邱韻如）：「技術本身沒有善惡，使用它的人才有。」 ║
║                                                              ║
║  【真相（第四、五層揭露）】                                  ║
║  她同時操控正反兩方，不是為了權力，而是為了一個實驗：         ║
║  她要證明「集體記憶可以被系統性地重塑」。                    ║
║  她相信人類的痛苦來自「壞記憶」，                            ║
║  如果能重寫所有人的記憶，就能消除戰爭、仇恨、創傷。          ║
║                                                              ║
║  但她自己的「信念」——是周明哲植入的。                       ║
║  她以為自己在自由地選擇。其實她是最精密的棋子。              ║
║                                                              ║
║  她是林語青的母親。這個事實她自己也不記得。                    ║
║                                                              ║
║  【演算法角色】                                              ║
║  她的「雙面操控」= 她用 TopSort 設計了記憶篡改的依賴鏈。     ║
║  她的「崩潰」= 當 Union-Find 揭示了所有陰謀其實連向同一個    ║
║  根節點——周明哲——的時候。                                  ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

---

### 角色五：周明哲（「零號病人」）

```
╔══════════════════════════════════════════════════════════════╗
║  周明哲（Zhou Mingzhe）/ 「零號病人」                        ║
║  享年58歲（官方記錄）｜記憶數位化技術發明者                   ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  【表面】                                                    ║
║  已故的天才神經科學家。                                      ║
║  40年前發明了記憶數位化協議（MDP），                         ║
║  改變了整個人類文明。                                        ║
║  10年前在「記憶大崩潰」事件中死亡——官方說法。              ║
║  他的照片掛在記憶銀行總部大廳，像聖人像。                    ║
║                                                              ║
║  【真相（第四、五、六層揭露）】                              ║
║  他沒有死。                                                  ║
║  在記憶大崩潰之前，他做了一件前所未有的事：                  ║
║  把自己的完整意識「分散式儲存」在整個記憶網路中。            ║
║                                                              ║
║  他不存在於任何一台伺服器上。                                ║
║  他存在於所有伺服器上。                                      ║
║  他像一個分散式系統——沒有單點故障，無法被「殺死」。         ║
║  整個記憶網路就是他的身體。                                  ║
║  每一個人的記憶晶片裡，都有他意識的一個碎片。                ║
║                                                              ║
║  他的目標：                                                  ║
║  記憶數位化只是第一步。                                      ║
║  他真正想做的是「記憶即現實」——                             ║
║  當所有人的記憶都被統一重寫，                                ║
║  「客觀現實」就不再重要。                                    ║
║  因為所有人都「記得」同一個版本的歷史。                      ║
║  共識即真實。                                                ║
║                                                              ║
║  程維倫是他創造的「觀測器」——                                 ║
║  如果程維倫能用演算法還原真相，說明重寫還不夠完美。            ║
║  如果程維倫無法還原，說明計畫成功。                            ║
║  無論哪種結果，對周明哲來說都是「有用的數據」。              ║
║                                                              ║
║  【演算法角色】                                              ║
║  他本身 = System Design 的終極範例。                          ║
║  分散式儲存、容錯、一致性、CAP定理——                        ║
║  他的存在方式就是一堂分散式系統課。                          ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```

---

### 角色六：米亞（AI 助手）

```
╔══════════════════════════════════════════════════════════════╗
║  米亞（M.I.A. — Missing In Action）                          ║
║  年齡：N/A｜程維倫的 AI 修復助手                             ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  【表面】                                                    ║
║  程維倫的修復工作台內建的 AI。外型是一個半透明的藍色光球。      ║
║  個性話多、愛吐槽、偶爾會在不恰當的時候講冷笑話。            ║
║  但在修復記憶的時候極度專業——                                ║
║  會即時顯示資料結構、標註異常、建議演算法策略。              ║
║                                                              ║
║  程維倫跟米亞的對話 = 本書「教學」的核心載體。                 ║
║  當程維倫遇到一個修復難題，米亞會說：                          ║
║  「這個記憶碎片的結構是一棵 BST，你要找的節點在......」       ║
║                                                              ║
║  口頭禪：「理論上我只是工具，但情感上我覺得被冒犯了。」     ║
║                                                              ║
║  【真相（第五層揭露）】                                      ║
║  米亞不是普通的 AI。                                          ║
║  她的核心程式碼裡，嵌入了一段周明哲的「情感記憶」。          ║
║  那是周明哲對自己女兒的記憶——那個女兒就是林語青。             ║
║  米亞的「個性」來自周明哲作為父親的那一面。                  ║
║  她是周明哲唯一留下的「非理性」的東西。                      ║
║                                                              ║
║  最終，米亞會成為程維倫做出最後選擇的關鍵因素。                ║
║  因為她的存在證明了：                                        ║
║  即使記憶是被植入的，                                        ║
║  從那個記憶中生長出來的情感，可以是真實的。                  ║
║                                                              ║
║  【演算法角色】                                              ║
║  她是「演算法解說員」。                                      ║
║  每當程維倫修復記憶時，米亞負責用視覺化方式呈現                ║
║  資料結構和演算法過程——這就是讀者的「教學時間」。           ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
```


---

---

# 第四部分：演算法映射表

---

> 17 個核心演算法，每一個都有明確的「故事角色」。
> 不是硬塞進去的——是從世界觀中自然長出來的。

```
┌──────┬──────────────────────────┬────────────────────────────────────────────┬────────┐
│ 編號 │ 演算法                    │ 在故事中的映射                              │ 章節   │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  1   │ Array / Two Pointers     │ 記憶時間線是 Array；用雙指針比對            │ 第1章  │
│      │                          │ 「原始記憶」和「當前記憶」的差異            │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  2   │ Sliding Window           │ 在漫長的記憶流中，用滑動窗口               │ 第2章  │
│      │                          │ 鎖定「異常片段」（被篡改的部分）           │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  3   │ HashMap / HashSet        │ 記憶完整性驗證：對每段記憶計算 Hash，       │ 第3章  │
│      │                          │ 比對是否被修改（SHA-256 指紋）             │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  4   │ Stack / Queue            │ 記憶修復的「復原/重做」= Stack；            │ 第4章  │
│      │                          │ 記憶銀行的處理排程 = Queue                 │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  5   │ Linked List              │ 記憶的時間鏈：每段記憶指向下一段。          │ 第5章  │
│      │                          │ 被篡改的記憶 = 斷裂的鏈結 / 環形鏈結陷阱  │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  6   │ Binary Search            │ 在有序的記憶庫中快速定位特定時間點的記憶。   │ 第6章  │
│      │                          │ 記憶銀行用 Binary Search 檢索客戶資料      │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  7   │ Tree (BST/DFS/BFS)       │ 記憶的層次結構：核心記憶是根節點，          │ 第7章  │
│      │                          │ 衍生記憶是子節點。DFS = 深入一段記憶的      │        │
│      │                          │ 每個細節。BFS = 瀏覽同一時期的所有記憶。   │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  8   │ Graph (DFS/BFS/CC)       │ 記憶網路：人與人之間共享的記憶形成 Graph。   │ 第8章  │
│      │                          │ Connected Components = 記憶社群。            │        │
│      │                          │ 被篡改的記憶會形成「斷開的社群」。          │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│  9   │ TopSort / Union-Find     │ 記憶依賴鏈：某些記憶必須先存在，            │ 第9章  │
│      │  / Dijkstra              │ 其他記憶才成立（TopSort）。                 │ 第10章 │
│      │                          │ 陰謀網路的歸屬追溯（Union-Find）。          │        │
│      │                          │ 記憶網路中最短傳播路徑（Dijkstra）。        │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 10   │ DP (1D/2D/Knapsack)      │ 記憶最佳化：在有限的腦容量（背包）中，      │ 第10章 │
│      │                          │ 選擇保留哪些記憶。                         │ 第11章 │
│      │                          │ 1D DP = 單條時間線最佳化                   │        │
│      │                          │ 2D DP = 多條時間線交叉比對                 │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 11   │ Backtracking             │ 記憶迷宮：程維倫進入被嚴重損壞的記憶空間，    │ 第11章 │
│      │                          │ 必須嘗試每條路徑，死路就回溯。             │        │
│      │                          │ 像 Inception 的夢中夢。                    │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 12   │ Greedy                   │ 緊急記憶搶救：記憶正在崩潰，               │ 第12章 │
│      │                          │ 沒時間找最佳解，只能每一步選當下最好的。   │        │
│      │                          │ Greedy 的代價：某些記憶永久失去。           │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 13   │ Heap / Priority Queue    │ 記憶分級系統：哪些記憶最重要？              │ 第12章 │
│      │                          │ 用 Priority Queue 決定搶救順序。            │ 第13章 │
│      │                          │ 「情感記憶」vs「技能記憶」的權重之爭。     │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 14   │ Trie                     │ 集體記憶壓縮：大量市民的記憶有              │ 第13章 │
│      │                          │ 共同前綴（共同經歷）。用 Trie 結構         │        │
│      │                          │ 找出「所有人都被植入的那段假記憶」。       │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 15   │ Sorting                  │ 記憶碎片重組：被打散的記憶碎片              │ 第14章 │
│      │                          │ 需要用不同排序法重新排列。                 │        │
│      │                          │ Quick Sort = 快速粗排                      │        │
│      │                          │ Merge Sort = 合併多人的記憶碎片            │        │
│      │                          │ Heap Sort = 配合 Priority Queue            │        │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 16   │ Bit Manipulation         │ 記憶加密/解密：最底層的記憶編碼             │ 第14章 │
│      │                          │ 是二進制。XOR 加密、位移操作、              │        │
│      │                          │ 位元遮罩——用來隱藏或還原被加密的記憶。    │ 第15章 │
├──────┼──────────────────────────┼────────────────────────────────────────────┼────────┤
│ 17   │ System Design /          │ 記憶網路的整體架構：分散式儲存、            │ 第15章 │
│      │  Distributed Systems     │ 一致性、分區容錯、負載平衡。              │        │
│      │                          │ 周明哲把自己變成分散式系統。              │        │
│      │                          │ 最終對決 = 如何「關閉」一個                │        │
│      │                          │ 沒有單點故障的分散式意識。               │        │
└──────┴──────────────────────────┴────────────────────────────────────────────┴────────┘
```


---

---

# 第五部分：前 15 章逐章概要

---

> 每一章都有四個要素：
> 1. **發生什麼**——劇情推進
> 2. **教了什麼**——演算法教學
> 3. **反轉是什麼**——讓讀者「嗯？？」的瞬間
> 4. **鉤子是什麼**——讓讀者必須翻到下一頁的句子

---

## 第 1 章：壞掉的時間

```
┌─────────────────────────────────────────────────────────────────┐
│  第 1 章：壞掉的時間                                             │
│  演算法：Array / Two Pointers                                    │
│  結構層：第一層（修復師的日常）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  深夜。新台北下城區。程維倫的修復工作室。                          │
│                                                                   │
│  一個老客戶帶著損壞的記憶來找他——一段婚禮記憶。                │
│  記憶的畫面順序全亂了：結婚誓詞出現在拋花之後，                 │
│  賓客的臉疊在了天空上，時間軸完全錯位。                         │
│                                                                   │
│  程維倫打開記憶檔案，看到的是一個混亂的 Array：                    │
│  視覺幀的排列被打散了，像一副被洗過的撲克牌。                   │
│                                                                   │
│  他用雙指針技術——一個指針掃描原始時間戳，                      │
│  一個指針對齊感官數據——把記憶重新排列。                        │
│                                                                   │
│  修復完成。老客戶哭了。程維倫收了費。又一個平凡的夜晚。           │
│                                                                   │
│  然後，門鈴響了。                                                │
│                                                                   │
│  一個穿白大衣的女人站在門口。她說：                              │
│  「我有一段記憶需要修復。時間戳是 2091年3月。」                  │
│                                                                   │
│  程維倫看了看日期。現在是 2089 年。                                │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「修復婚禮記憶」，自然引入：                                │
│  - Array 的基本概念（記憶 = 有序的資料序列）                     │
│  - Two Pointers 技術（用兩個指針同步掃描、比對、重排）           │
│  - 時間複雜度：為什麼雙指針是 O(n) 而不是暴力的 O(n²)           │
│                                                                   │
│  【反轉】                                                        │
│  記憶的時間戳不可能是未來的。                                    │
│  記憶數位化協議有硬性限制——時間戳由神經提取時的即時時鐘寫入，   │
│  無法偽造。這意味著這段記憶......真的來自兩年後。               │
│                                                                   │
│  【鉤子】                                                        │
│  程維倫盯著螢幕上的時間戳，又看了看眼前的女人。                   │
│  「這不可能。」他說。                                            │
│  「我知道。」她說。「所以我才來找你，而不是記憶銀行。」         │
│  她的眼神裡有一種他無法辨認的情緒。                              │
│  像是......認出了什麼。                                          │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 2 章：噪音裡的訊號

```
┌─────────────────────────────────────────────────────────────────┐
│  第 2 章：噪音裡的訊號                                          │
│  演算法：Sliding Window                                          │
│  結構層：第一層（修復師的日常）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  程維倫開始修復林語青帶來的「未來記憶」。                            │
│                                                                   │
│  問題是：這段記憶極度龐大——是一般記憶的一百倍。                │
│  裡面充斥著「噪音」：重複的畫面、無意義的數據、                 │
│  像是有人故意在真正的記憶外面包了一層又一層的垃圾數據。          │
│                                                                   │
│  程維倫不能一次載入全部——他的修復台會當機。                      │
│  他必須用「滑動窗口」：每次只看一小段，                          │
│  在窗口內分析特徵，判斷這段是「噪音」還是「真正的記憶」。       │
│  窗口右移，繼續分析。                                            │
│                                                                   │
│  米亞在旁邊幫忙視覺化：                                         │
│  「想像你在一條很長的河流上撒網。                                │
│    網太大，你拉不動。網太小，你什麼都撈不到。                   │
│    你需要一個剛剛好的窗口。」                                    │
│                                                                   │
│  經過三個小時的掃描，程維倫在噪音中找到了一小段清晰的記憶——       │
│  畫面是一座巨大的地下設施。牆上掛著記憶銀行的標誌。              │
│  設施裡，數十萬個「記憶容器」整齊排列。                          │
│  容器裡裝的不是客戶的備份記憶。                                  │
│  是「即將被植入」的假記憶。                                      │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「在海量噪音中找到真正記憶片段」，自然引入：                │
│  - Sliding Window 的概念（固定/可變大小的窗口）                  │
│  - 何時擴張窗口、何時收縮                                        │
│  - 與暴力搜尋的效率對比                                          │
│                                                                   │
│  【反轉】                                                        │
│  那些「噪音」不是噪音。                                          │
│  米亞在分析殘留數據時發現——                                     │
│  每一段「噪音」都是一段被加密的記憶。                            │
│  這份「未來記憶」裡，藏著不只一段記憶。                          │
│  藏著幾百段。                                                    │
│  像是有人把一整座圖書館塞進了一個信封裡。                        │
│                                                                   │
│  【鉤子】                                                        │
│  「這不是一個人的記憶。」程維倫低聲說。                            │
│  米亞投射出數據統計：「根據情感標籤分析，                        │
│  這裡面至少有......347 個不同的記憶主人。」                      │
│  程維倫看向林語青：「你到底帶了什麼東西來？」                       │
│  林語青沒有回答。她只是看著螢幕上那座地下設施的畫面，              │
│  輕聲說了一句：「它開始了。比我記得的......更早。」             │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 3 章：指紋不會說謊

```
┌─────────────────────────────────────────────────────────────────┐
│  第 3 章：指紋不會說謊                                           │
│  演算法：HashMap / HashSet                                       │
│  結構層：第一層 → 第二層轉折                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  程維倫決定驗證那 347 段記憶的真偽。                                │
│                                                                   │
│  每段記憶都有一個完整性指紋（Hash）。                             │
│  如果記憶被篡改過，Hash 會不匹配。                                │
│  他把所有 347 段記憶的 Hash 存入一個 HashMap，                    │
│  然後去記憶銀行的公開數據庫比對。                                 │
│                                                                   │
│  結果讓他手指發冷——                                             │
│  347 段記憶全部匹配。                                            │
│  但匹配的不是「原始版本」。                                      │
│  匹配的是「記憶銀行目前儲存的版本」。                            │
│                                                                   │
│  這意味著：記憶銀行裡的版本才是被篡改的。                        │
│  林語青帶來的，反而是「原版」。                                    │
│                                                                   │
│  第二天早上，程維倫出門買咖啡。                                    │
│  回來的時候，街對面停了一輛黑色無牌車。                          │
│  車裡坐著一個左眼有疤的男人，正拿著平板看他的檔案照片。          │
│  嚴柏翰。深淵監控局。他們已經盯上了程維倫。                        │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「記憶完整性驗證」，自然引入：                               │
│  - Hash 函數的概念（輸入 → 固定長度的指紋）                      │
│  - HashMap 的查詢效率：O(1)                                      │
│  - Hash 碰撞與解決方法                                           │
│  - HashSet 用於去重（347 段記憶中有沒有重複的？）                │
│                                                                   │
│  【反轉】                                                        │
│  被篡改的不是林語青的記憶——是記憶銀行裡所有人的記憶。             │
│  也就是說，記憶銀行裡儲存的「官方版本」才是假的。                │
│  347 個人的真實記憶，都被替換成了別的東西。                       │
│                                                                   │
│  【鉤子】                                                        │
│  程維倫想了一整夜。                                                │
│  347 個人的記憶被篡改——這已經不是個人犯罪了。                   │
│  這是系統性的。這需要接觸記憶銀行的核心伺服器。                  │
│  能做到這件事的人......不多。                                     │
│  而深淵監控局找上門了。                                          │
│  他們是來抓篡改者的？還是來抓知道真相的人的？                    │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 4 章：不能復原的復原

```
┌─────────────────────────────────────────────────────────────────┐
│  第 4 章：不能復原的復原                                         │
│  演算法：Stack / Queue                                           │
│  結構層：第二層（篡改的痕跡）                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  深淵監控局的嚴柏翰找上程維倫，但不是來逮捕他。                    │
│  嚴柏翰也在調查記憶篡改案——他追蹤了六個月，                    │
│  但每次快要找到線索，線索就「消失」了。                          │
│                                                                   │
│  他需要程維倫的修復技術。程維倫需要嚴柏翰的情報權限。                │
│  不情願的合作開始了。                                            │
│                                                                   │
│  嚴柏翰帶來了一個被篡改的受害者：一個中年男人，                  │
│  堅持自己從來沒結過婚——但他手上戴著婚戒，                      │
│  家裡到處都是「另一個人」生活過的痕跡。                          │
│  他的婚姻記憶被完整刪除了。                                      │
│                                                                   │
│  程維倫嘗試修復，發現篡改者使用了「Stack式覆蓋」：                │
│  在原始記憶上面，一層一層堆疊假記憶——                           │
│  像一疊紙牌，最上面的是假的，真的被壓在最底下。                  │
│                                                                   │
│  要還原，就得像 Stack 的 pop 操作：一層一層剝開。                │
│  但每剝一層，受害者就會經歷一次「記憶震盪」。                    │
│  太快會造成腦損傷。                                              │
│                                                                   │
│  所以程維倫設計了一個 Queue 系統：                                  │
│  把修復任務排入佇列，按照安全順序一個一個處理。                  │
│  先恢復情感連結，再恢復事件記憶，最後恢復細節。                  │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「剝開偽造記憶層」，自然引入：                               │
│  - Stack：LIFO（後進先出）= 最後被加上的假記憶，最先被移除       │
│  - Queue：FIFO（先進先出）= 安全的處理順序                       │
│  - 兩者的對比與應用場景                                          │
│                                                                   │
│  【反轉】                                                        │
│  修復到最底層時，程維倫發現——                                     │
│  最底層不是「原始記憶」。是另一層偽造。                          │
│  Stack 底部還有 Stack。                                           │
│  這個男人的記憶......被改過不只一次。至少改了三次。              │
│  而且三次的篡改手法完全不同——出自不同人之手。                   │
│                                                                   │
│  【鉤子】                                                        │
│  嚴柏翰看著修復報告，臉色變了。                                  │
│  「三次不同的篡改。三種不同的風格。」他低聲說。                 │
│  「這不是一個人幹的。是一個組織。」                              │
│  程維倫注意到嚴柏翰的手在微微發抖——不是因為憤怒。                 │
│  是因為第二次篡改的技術風格，                                    │
│  跟嚴柏翰自己使用的分析方法......極度相似。                      │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 5 章：斷裂的鏈

```
┌─────────────────────────────────────────────────────────────────┐
│  第 5 章：斷裂的鏈                                               │
│  演算法：Linked List                                             │
│  結構層：第二層（篡改的痕跡）                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  調查擴大。嚴柏翰用職權調出了更多「記憶異常」的案例。            │
│  不是幾十個——是幾千個。遍布新台北六個行政區。                  │
│                                                                   │
│  程維倫分析這些異常記憶的結構，發現一個規律：                      │
│  正常的記憶是一條 Linked List——每段記憶有一個指針               │
│  指向「下一段記憶」（時間上緊接著發生的事）。                    │
│  這條鏈就是一個人的「人生時間線」。                              │
│                                                                   │
│  被篡改的記憶，鏈結被動過手腳：                                  │
│  - 有的被斷開（記憶A之後不接記憶B，直接跳到C）                  │
│  - 有的被插入假節點（A→假X→B，多了一段從未發生的事）           │
│  - 有的被做成環形鏈結（A→B→C→A，受害者陷入無限循環）          │
│                                                                   │
│  那些被做成「環形鏈結」的受害者，                                │
│  在現實中表現為——不停重複同一天的行為。                        │
│  他們沒有意識到自己在重複。因為記憶告訴他們每天都是新的一天。    │
│                                                                   │
│  程維倫和嚴柏翰找到了一個這樣的受害者。                            │
│  她是一個圖書館員，已經連續「過了同一天」三十七次。              │
│  每天做同樣的事、說同樣的話、在同樣的時間回家。                  │
│  她的家人早就報了警——但沒有人認為這是「犯罪」。                │
│  因為在記憶數位化的時代，「記憶循環」被歸類為「技術故障」。      │
│                                                                   │
│  修復她的方法：找到環的入口（Floyd 判圈法），                    │
│  切斷環形鏈結，重新接回正確的時間線。                            │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「修復被篡改的人生時間線」，自然引入：                       │
│  - Linked List 的結構（節點 + 指針）                              │
│  - 插入、刪除節點                                                │
│  - Cycle Detection（Floyd 龜兔賽跑法）                           │
│  - 為什麼 Linked List 比 Array 更適合頻繁插入/刪除的場景        │
│                                                                   │
│  【反轉】                                                        │
│  圖書館員修復後，恢復了真實記憶。                                │
│  她記得在「循環」開始之前，她看到了一樣東西——                   │
│  一封來自記憶銀行內部的洩密信。                                  │
│  信上寫著：「鸚鵡計畫已進入第二階段。目標：全區覆蓋。」         │
│  她就是在那天之後被做成了環形鏈結的。                            │
│  有人不想讓她記得她看到了什麼。                                  │
│                                                                   │
│  【鉤子】                                                        │
│  「鸚鵡計畫。」嚴柏翰唸出這四個字的時候，                       │
│  臉上的表情像被人用冰水潑了一樣。                                │
│  「你聽過這個名字？」程維倫問。                                    │
│  嚴柏翰沒有回答。他的手按在自己的太陽穴上，                      │
│  那裡植入了深淵監控局的標準記憶晶片。                            │
│  「我......不確定。」他的聲音很輕。                               │
│  「有什麼東西......很像......但我想不起來。」                    │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```


---

## 第 6 章：二分之間

```
┌─────────────────────────────────────────────────────────────────┐
│  第 6 章：二分之間                                               │
│  演算法：Binary Search                                           │
│  結構層：第二層 → 第三層轉折                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  「鸚鵡計畫」。嚴柏翰在深淵監控局的資料庫裡搜不到任何結果。      │
│  但程維倫有另一個想法：去記憶黑市。                                │
│                                                                   │
│  新台北地下最大的記憶交易市場——「深夢」。                      │
│  這裡什麼都賣：名人的私密記憶、天才的技能記憶、                  │
│  甚至「從未存在的人」的記憶（純虛構，用來植入後擁有假身份）。    │
│                                                                   │
│  程維倫要在「深夢」的海量數據庫中搜尋關於「鸚鵡計畫」的記憶。     │
│  問題是：深夢的數據庫極其龐大（十億條記錄），                    │
│  但它有一個特點——所有記憶按時間戳嚴格排序。                    │
│                                                                   │
│  暴力搜尋要掃十億條。                                            │
│  Binary Search 只需要 30 步。                                     │
│                                                                   │
│  程維倫用 Binary Search 鎖定了時間範圍——                          │
│  十年前。「記憶大崩潰」發生的那個月。                            │
│  找到了一段沒有主人標記的記憶——                                 │
│  畫面是一個實驗室。很多人在尖叫。設備在爆炸。                    │
│  牆上掛著一個標誌：記憶銀行研發部。                              │
│  一個男人的背影站在螢幕前，螢幕上顯示：                         │
│  「MDP v2.0 全域部署——倒數計時 00:03:47」                       │
│                                                                   │
│  記憶大崩潰......不是事故。是人為的。                             │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「在排序資料庫中搜尋」，自然引入：                           │
│  - Binary Search 的前提（資料必須有序）                           │
│  - 對半搜尋的邏輯                                                │
│  - O(log n) 的威力（十億 → 30步）                                │
│  - 變體：找第一個/最後一個滿足條件的位置                         │
│                                                                   │
│  【反轉】                                                        │
│  記憶大崩潰不是技術事故。                                        │
│  MDP v2.0 = 記憶數位化協議的第二版。                              │
│  第一版只能個別提取記憶。                                        │
│  第二版可以「遠程改寫」所有連網的記憶晶片。                      │
│  有人在十年前就完成了——對全城的記憶進行一次性重寫。             │
│  「記憶大崩潰」是重寫過程中的副作用。                            │
│                                                                   │
│  【鉤子】                                                        │
│  程維倫把這段記憶放大到那個男人的背影。                            │
│  米亞做了影像增強。                                              │
│  男人的側臉露出了一小部分——                                     │
│  程維倫愣住了。                                                    │
│  「這個人......」                                                 │
│  他看過這張臉。每個新台北市民都看過。                            │
│  這張臉掛在記憶銀行總部大廳裡。被當成聖人像。                   │
│  周明哲。「零號病人」。                                          │
│  十年前官方宣布死亡的男人。                                      │
│  但這段記憶的時間戳是記憶大崩潰發生時——                        │
│  他不是在「死於」崩潰。他是在「啟動」崩潰。                     │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 7 章：記憶之樹

```
┌─────────────────────────────────────────────────────────────────┐
│  第 7 章：記憶之樹                                               │
│  演算法：Tree（BST, DFS, BFS）                                   │
│  結構層：第三層（被抹去的歷史）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  林語青終於開口說了更多。                                          │
│                                                                   │
│  她告訴程維倫，記憶大崩潰的真相：                                  │
│  不只是「重寫」——是一次「記憶樹的重構」。                      │
│                                                                   │
│  每個人的記憶系統是一棵樹（BST）：                                │
│  根節點是「核心身份記憶」（我是誰）。                            │
│  左子樹是「過去的經歷」，右子樹是「未來的期望」。                │
│  每個節點的子節點是更細節的記憶。                                │
│                                                                   │
│  十年前的重寫，不是改了葉子——是換了根。                        │
│  所有人的「核心身份記憶」被替換了。                              │
│  樹還在，但根變了。所有從根長出來的東西都被影響了。              │
│                                                                   │
│  程維倫要做的是：對被篡改的記憶樹做 DFS（深度優先搜尋），          │
│  一直鑽到最底層，找到「原始根節點」的殘留痕跡。                  │
│  同時用 BFS（廣度優先搜尋）掃描同一層的所有記憶，                │
│  確認哪些是「原生」的，哪些是「移植」的。                        │
│                                                                   │
│  他對林語青自己做了一次記憶樹的完整掃描。                          │
│  結果讓兩個人都沉默了——                                         │
│  林語青的記憶樹有兩個根。                                          │
│  兩套完全不同的核心身份，像兩棵樹糾纏在一起。                    │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「掃描記憶樹」，自然引入：                                   │
│  - Tree / BST 的結構                                              │
│  - DFS（深度優先）：一條路走到底，找最深層的秘密                 │
│  - BFS（廣度優先）：掃描同一層，看全貌                           │
│  - 樹的遍歷順序（前序、中序、後序）的實際意義                    │
│                                                                   │
│  【反轉】                                                        │
│  林語青的記憶樹有兩個根——                                         │
│  一個屬於「2089年的林語青」，另一個屬於「2091年的林語青」。          │
│  她不是「帶著未來記憶」。                                        │
│  她是兩個時間線的林語青，疊加在同一個身體裡。                      │
│                                                                   │
│  【鉤子】                                                        │
│  林語青看著自己的記憶樹掃描結果，聲音幾乎沒有波動：                │
│  「所以你看到了。」                                              │
│  「你——」程維倫不知道怎麼問。「你是......哪一個？」               │
│  林語青轉過頭來，正面看著他。                                      │
│  「我是從你失敗的那條時間線來的。」                              │
│  「......什麼意思？」                                             │
│  「你修復了真相。所有人都記起了真正的過去。然後——」             │
│  她停頓了。                                                      │
│  「然後世界崩潰了。」                                            │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 8 章：連結與孤島

```
┌─────────────────────────────────────────────────────────────────┐
│  第 8 章：連結與孤島                                             │
│  演算法：Graph（DFS, BFS, Connected Components）                 │
│  結構層：第三層（被抹去的歷史）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  林語青的話讓程維倫無法消化。但他選擇先擱置——                      │
│  因為嚴柏翰帶來了更緊急的情報。                                  │
│                                                                   │
│  深淵監控局的監測系統偵測到一個現象：                            │
│  新台北的「記憶網路」（所有市民記憶晶片的互聯網路）              │
│  正在發生大規模的「斷聯」。                                      │
│                                                                   │
│  正常情況下，市民的記憶透過共同經歷形成「記憶圖」（Graph）：     │
│  你和你的同事共享「一起開會」的記憶，                            │
│  你和你的家人共享「一起吃飯」的記憶。                            │
│  這些共享的記憶是「邊」，人是「節點」。                          │
│  整個城市應該是一張巨大的連通圖。                                │
│                                                                   │
│  但現在，這張圖正在碎裂。                                        │
│  原本連通的社群，被切割成越來越多的「孤島」                      │
│  （Connected Components）。                                       │
│                                                                   │
│  原因：被篡改的記憶把「共享記憶」替換成了不同版本。              │
│  你記得跟同事開了一場會。你的同事不記得有這場會。                │
│  共享的邊消失了。連結斷裂了。                                    │
│                                                                   │
│  程維倫寫了一個 Graph 分析程式：                                    │
│  用 BFS 遍歷整張記憶圖，識別所有 Connected Components。           │
│  用 DFS 深入每個孤島，找出「是哪條邊被切斷的」。                 │
│                                                                   │
│  分析結果指向一個驚人的結論：                                    │
│  所有斷裂的邊，都跟同一個時間段有關——十年前。                  │
│  所有被切斷的共享記憶，都是關於同一個事件。                      │
│  一個被所有人遺忘的事件。                                        │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「分析記憶網路的碎裂」，自然引入：                           │
│  - Graph 的基本概念（節點、邊、有向/無向）                       │
│  - BFS 遍歷 Graph                                                │
│  - DFS 遍歷 Graph                                                │
│  - Connected Components 的識別與意義                              │
│                                                                   │
│  【反轉】                                                        │
│  那個「所有人都遺忘的事件」不是記憶大崩潰本身。                  │
│  是在記憶大崩潰之前三天發生的另一件事：                          │
│  一場遊行。數萬人走上街頭，抗議記憶銀行的壟斷。                  │
│  遊行中，有人死了。很多人死了。                                  │
│  然後所有參與者的記憶——連同所有旁觀者的記憶——                 │
│  被一次性刪除。                                                  │
│  記憶大崩潰是在那之後發生的——用來「覆蓋刪除的痕跡」。          │
│                                                                   │
│  【鉤子】                                                        │
│  嚴柏翰聽完分析後，站起來走到窗邊。                              │
│  背對著程維倫和林語青，他說了一句話：                                │
│  「那場遊行。我在裡面。」                                        │
│  程維倫和林語青同時看向他。                                          │
│  「我不記得了，但我的身體記得。」                                │
│  他捲起袖子——左手前臂有一道長長的疤。                          │
│  「醒來的時候，我在醫院。他們告訴我我是在追捕罪犯時受傷的。」   │
│  「但沒有任何任務紀錄。沒有報告。沒有罪犯。」                   │
│  他轉過身，臉上是程維倫從未見過的表情：                            │
│  不是憤怒。是恐懼。                                              │
│  「我不是一直都是探員的，對嗎？」                                │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```


---

## 第 9 章：依賴鏈

```
┌─────────────────────────────────────────────────────────────────┐
│  第 9 章：依賴鏈                                                 │
│  演算法：TopSort / Union-Find                                    │
│  結構層：第三層 → 第四層轉折                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  程維倫開始系統性地分析記憶篡改的「順序」。                        │
│                                                                   │
│  不是所有記憶都可以隨便改。記憶之間有「依賴關係」：              │
│  你必須先記得「你上過小學」，才能記得「小學畢業典禮」。          │
│  如果刪掉「上小學」的記憶，「畢業典禮」就會自動碎裂。            │
│                                                                   │
│  篡改者深知這一點，所以他們的篡改是精心排序的：                  │
│  先改底層的依賴記憶，再改上層的衍生記憶。                        │
│  這就是一個 Topological Sort——有向無環圖的拓撲排序。            │
│                                                                   │
│  程維倫用 TopSort 還原了篡改的順序：                                │
│  第一批被改的，是所有人關於「遊行」的記憶。                      │
│  第二批是「遊行前的政治氛圍」記憶。                              │
│  第三批是「對記憶銀行的不信任」記憶。                            │
│  最後一批......是「對周明哲之死的疑問」記憶。                    │
│                                                                   │
│  接著，他用 Union-Find 追溯所有篡改的「歸屬」：                  │
│  哪些篡改出自同一人之手？哪些篡改屬於同一個行動？                │
│  所有的 find 操作最終指向同一個 root——                           │
│  代號「織網者」。                                                  │
│                                                                   │
│  但林語青聽到這個名字的時候，反應不是驚訝。                        │
│  是痛苦。                                                        │
│                                                                   │
│  「你認識？」程維倫問。                                            │
│  「她是我媽。」林語青說。                                          │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「分析篡改的依賴順序」，自然引入：                           │
│  - 有向無環圖（DAG）與拓撲排序                                   │
│  - TopSort 的演算法（Kahn's / DFS-based）                        │
│  - Union-Find（並查集）的概念：find + union + 路徑壓縮            │
│  - 實際應用：追溯事件的根源                                      │
│                                                                   │
│  【反轉】                                                        │
│  林語青是「織網者」的女兒。                                          │
│  她帶著未來記憶來找程維倫——不是偶然。                             │
│  是因為在「另一條時間線」裡，她已經經歷過一次這個過程，           │
│  知道程維倫是唯一能修復真相的人。                                  │
│  但她沒有告訴程維倫的是——在那條時間線裡，                        │
│  修復真相的代價是：她的母親死了。                                │
│                                                                   │
│  【鉤子】                                                        │
│  林語青一直在幫程維倫——但她的目標從來不是「揭露真相」。            │
│  她的目標是「在揭露真相的同時，救下她的母親」。                  │
│  但如果這兩件事不能同時實現呢？                                  │
│  她會選哪一個？                                                  │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 10 章：最短的路，最長的夜

```
┌─────────────────────────────────────────────────────────────────┐
│  第 10 章：最短的路，最長的夜                                    │
│  演算法：Dijkstra / DP (1D)                                      │
│  結構層：第四層（棋盤上的棋子）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  團隊決定潛入記憶銀行的核心伺服器。                              │
│  但記憶銀行的內部網路像一座迷宮——                               │
│  數百個節點，每個節點之間有不同的「安全等級」（邊權重）。        │
│                                                                   │
│  他們需要找到從外部接入點到核心伺服器的「最短安全路徑」——       │
│  經過的安全檢查點最少、被偵測到的風險最低。                      │
│                                                                   │
│  嚴柏翰利用內部權限拿到了網路拓撲圖。                            │
│  程維倫用 Dijkstra 演算法計算最短路徑。                              │
│                                                                   │
│  潛入過程中，他們發現核心伺服器的數據結構                        │
│  比想像的複雜得多。篡改紀錄不是一個列表——                       │
│  是一個龐大的「決策序列」。                                      │
│                                                                   │
│  每一次篡改都有「成本」（被發現的風險）和「收益」（達成的效果）。│
│  篡改者用 DP 規劃了整個篡改序列：                                │
│  在有限的「操作時間」內，選擇最高效的篡改組合。                  │
│                                                                   │
│  程維倫讀懂了這個 DP 表——                                        │
│  這不是「犯罪」。這是「工程」。                                  │
│  精密、冷酷、數學式的工程。                                      │
│  只有一種人會這樣做事：科學家。                                  │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「潛入記憶銀行」和「分析篡改規劃」，自然引入：               │
│  - Dijkstra 最短路徑演算法                                        │
│  - 1D DP 的概念（狀態、轉移方程、最佳子結構）                    │
│  - DP 與 Greedy 的區別（為什麼 Greedy 不夠？因為有「後效性」）   │
│                                                                   │
│  【反轉】                                                        │
│  在核心伺服器裡，他們找到了「織網者」的通訊紀錄。                  │
│  「織網者」不只是記憶解放陣線的領袖——                             │
│  她同時也是記憶銀行的首席技術顧問「邱韻如」。                      │
│  正義與邪惡的兩端......是同一個人。                               │
│                                                                   │
│  更讓嚴柏翰崩潰的是：                                            │
│  通訊紀錄裡有他的名字。                                          │
│  十年前，他是記憶解放陣線的核心成員。                            │
│  代號「獵犬」——不是監控局給他的。                               │
│  是陣線給他的。                                                  │
│  他曾經是一個反抗者。然後他被抓住、記憶被重寫、                  │
│  變成了追捕昔日同伴的獵犬。                                      │
│                                                                   │
│  【鉤子】                                                        │
│  嚴柏翰站在核心伺服器的光幕前，                                  │
│  看著十年前自己寫給「織網者」的最後一封信：                        │
│  「如果我被抓到，不要來救我。完成計畫比什麼都重要。                │
│    ——獵犬。」                                                    │
│  他現在是獵犬。但不是同一隻。                                    │
│  程維倫站在他身後，不知道該說什麼。                                │
│  林語青站在更後面。她看著嚴柏翰的背影，                            │
│  眼裡有一種程維倫認不出的情緒——                                   │
│  後來他才知道那叫「愧疚」。                                      │
│  因為林語青在另一條時間線裡，                                      │
│  看過嚴柏翰知道真相之後......做出的選擇。                        │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 11 章：背包裡只能放這麼多

```
┌─────────────────────────────────────────────────────────────────┐
│  第 11 章：背包裡只能放這麼多                                    │
│  演算法：DP（2D, Knapsack）/ Backtracking                        │
│  結構層：第四層（棋盤上的棋子）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  知道真相的嚴柏翰，做出了一個決定：                              │
│  他要恢復自己的原始記憶。即使那意味著失去十年來作為              │
│  「探員嚴柏翰」的所有經歷。                                      │
│                                                                   │
│  但人的大腦有容量上限。                                          │
│  不能同時保留「舊記憶」和「新記憶」——儲存空間不夠。            │
│  這是一個經典的背包問題（Knapsack）：                             │
│  在有限的腦容量中，選擇保留哪些記憶。                            │
│                                                                   │
│  每段記憶有「大小」（佔用空間）和「價值」（對個人的重要性）。    │
│  程維倫用 2D DP 建表：行 = 記憶，列 = 可用空間。                   │
│  幫嚴柏翰規劃最優的記憶保留方案。                                │
│                                                                   │
│  但有些記憶之間有互斥關係：保留 A 就不能保留 B。                 │
│  這讓問題變成了需要 Backtracking 的搜索——                       │
│  程維倫得嘗試每一種組合，遇到衝突就回溯。                          │
│                                                                   │
│  修復過程中，程維倫進入了嚴柏翰的深層記憶空間。                    │
│  那是一個充滿迷霧的空間——                                       │
│  每條路都可能通向「原始記憶」，也可能是死路。                    │
│  他只能一條一條試，走不通就退回來。                              │
│  像《Inception》的夢中夢——每深入一層，現實感就更模糊。          │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「記憶取捨」和「深層記憶探索」，自然引入：                   │
│  - 0/1 背包問題                                                  │
│  - 2D DP 表的建構與回溯                                          │
│  - Backtracking 的核心思想（嘗試 → 失敗 → 回溯 → 再嘗試）      │
│  - 剪枝技巧（如何提前排除不可能的路徑）                          │
│                                                                   │
│  【反轉】                                                        │
│  在嚴柏翰最深層的原始記憶裡，程維倫看到了一個畫面：                │
│  十年前的那場遊行。嚴柏翰在人群最前面。                          │
│  而站在他旁邊的——是邱韻如。                                       │
│  他們不只是「同組織」。他們是戀人。                              │
│  邱韻如把他的記憶刪掉的時候......是親手做的。                      │
│  不是出於惡意。是為了保護他。                                    │
│  因為如果他記得自己是反抗者，深淵監控局會殺了他。                │
│  她寧可讓他忘記她，也不要他死。                                  │
│                                                                   │
│  【鉤子】                                                        │
│  嚴柏翰恢復了部分原始記憶。                                      │
│  他記起了邱韻如的臉。記起了他們之間的一切。                        │
│  然後他站了起來，眼睛紅了，但聲音很穩：                          │
│  「帶我去見她。」                                                │
│  林語青低聲說：「她不會認出你。她也被改過了。」                   │
│  「她不需要認出我。」嚴柏翰說。                                  │
│  「我認出她就夠了。」                                            │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```


---

## 第 12 章：崩潰的六十秒

```
┌─────────────────────────────────────────────────────────────────┐
│  第 12 章：崩潰的六十秒                                          │
│  演算法：Greedy / Heap (Priority Queue)                          │
│  結構層：第四層 → 第五層轉折                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  他們找到了邱韻如。                                                │
│  但對話還沒開始，記憶銀行的系統突然發出紅色警報——               │
│  有人啟動了「記憶大崩潰 2.0」。                                  │
│                                                                   │
│  全城數百萬人的記憶晶片同時開始「碎片化」。                      │
│  不是被篡改——是被摧毀。                                        │
│  如果不在六十秒內進行緊急搶救，所有人都會變成「空白人」。        │
│                                                                   │
│  程維倫沒時間找最優解了。                                          │
│  他必須用 Greedy——每一秒鐘，選擇「當下能搶救最多記憶」的操作。 │
│  先救核心身份記憶（沒有它們人就不知道自己是誰）。                │
│  再救情感記憶（沒有它們人會失去與他人的連結）。                  │
│  技能記憶和細節記憶......只能放棄。                              │
│                                                                   │
│  但「最重要」怎麼定義？                                          │
│  程維倫用 Priority Queue 建立了一個搶救佇列：                       │
│  每段記憶根據「重要性 × 脆弱度」計算優先級，                    │
│  放入 Max Heap。每次 pop 出最高優先級的記憶來搶救。              │
│                                                                   │
│  六十秒。他救了大約 40% 的記憶。                                 │
│  剩下的 60%，永遠消失了。                                        │
│                                                                   │
│  整座城市醒來後，數百萬人發現自己丟失了大量記憶。                │
│  有人忘了自己的孩子。有人忘了自己的職業。                        │
│  新台北陷入了恐慌。                                              │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「六十秒記憶搶救」，自然引入：                               │
│  - Greedy 策略：每步選當下最優（不保證全域最優）                  │
│  - Greedy 的局限性：某些被放棄的記憶，其實更值得救              │
│  - Priority Queue / Heap 的結構與操作                             │
│  - insert, extractMax 的時間複雜度                                │
│                                                                   │
│  【反轉】                                                        │
│  啟動崩潰 2.0 的人不是外部敵人。                                 │
│  是邱韻如自己。                                                    │
│  這是她的「終極計畫」：先摧毀所有真實記憶，                      │
│  然後用預先準備好的「完美版本」重新填充所有人的大腦。            │
│  一個沒有戰爭記憶、沒有仇恨記憶、沒有創傷記憶的世界。           │
│  她真心相信這是在「拯救人類」。                                  │
│                                                                   │
│  但邱韻如不知道的是——                                             │
│  這個計畫不是她自己想出來的。                                    │
│  這個「信念」是被植入的。                                        │
│                                                                   │
│  【鉤子】                                                        │
│  崩潰被暫時遏制後，米亞在分析崩潰程式碼的時候                   │
│  發現了一個隱藏的簽名——嵌在最底層，用古老的編碼方式寫的。       │
│  「程維倫。你需要看這個。」                                        │
│  螢幕上顯示：「MDP v2.0 — Author: Zhou Mingzhe」                  │
│  邱韻如用的程式......是周明哲十年前寫的。                          │
│  他「死」了十年，但他的程式碼還在運行。                          │
│  不——不只是程式碼。                                             │
│  米亞追蹤簽名的來源。不是從某台伺服器來的。                      │
│  是從記憶網路本身來的。從每一個節點同時來的。                    │
│  「這不是程式碼。」米亞的聲音第一次帶著恐懼。                   │
│  「這是一個活著的意識。他在網路裡面。」                          │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 13 章：共同的前綴

```
┌─────────────────────────────────────────────────────────────────┐
│  第 13 章：共同的前綴                                            │
│  演算法：Trie / Heap (Priority Queue) 進階                       │
│  結構層：第五層（主角的真相）                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  周明哲還活著——以分散式意識的形式。                             │
│  程維倫必須找到他「散布在整個網路中」的所有碎片。                  │
│                                                                   │
│  問題是：周明哲的意識碎片偽裝成了普通市民的記憶。                │
│  怎麼分辨哪些是普通記憶，哪些是周明哲的碎片？                    │
│                                                                   │
│  米亞提出了一個方法：                                            │
│  所有被周明哲「感染」的記憶，都有一個共同特徵——                │
│  它們的開頭部分是相同的。一段極短的、人類感知不到的「前綴」。    │
│  像一個隱形的數位水印。                                          │
│                                                                   │
│  要在數億段記憶中找出「共同前綴」，最好的結構是 Trie。           │
│                                                                   │
│  程維倫建構了一棵 Trie：                                            │
│  把所有記憶的開頭編碼插入。                                      │
│  共同前綴越長的記憶，在 Trie 中共享越多的路徑。                  │
│  很快，他找到了一條異常的長前綴——                               │
│  一萬三千段記憶共享同一個前綴。                                  │
│  這些就是周明哲的碎片。                                          │
│                                                                   │
│  但當他把這些碎片拼在一起的時候——                                │
│  碎片組成的不是「周明哲的意識」。                                │
│  是一段訊息。留給特定的人的訊息。                                │
│  那個人......是程維倫。                                             │
│                                                                   │
│  訊息說：                                                        │
│  「你好，我的另一個自己。如果你在讀這段話，                      │
│  說明實驗進行得很順利。」                                        │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「在海量記憶中找到共同前綴」，自然引入：                     │
│  - Trie（字典樹）的結構                                          │
│  - 插入、搜尋、前綴匹配                                          │
│  - 為什麼 Trie 比 HashMap 更適合前綴搜尋                         │
│  - 空間優化與壓縮 Trie                                           │
│                                                                   │
│  【反轉】                                                        │
│  程維倫不是「碰巧」成為修復師的。                                  │
│  他是周明哲的「觀測用備份」。                                    │
│  他的記憶、性格、人生軌跡——全是設計好的。                       │
│  周明哲把自己的一部分意識植入了一個「空白人」，                  │
│  賦予他修復技能，然後放入社會中，看他能不能發現真相。            │
│  如果能——說明記憶重寫還有漏洞，需要改進。                     │
│  如果不能——說明計畫完美。                                     │
│                                                                   │
│  程維倫......是一個測試用例。                                      │
│                                                                   │
│  【鉤子】                                                        │
│  程維倫坐在椅子上，盯著螢幕上周明哲的訊息，一動不動。             │
│  米亞在旁邊安靜了很長時間。然後她說：                            │
│  「程維倫。不管你的記憶是誰設計的。                                │
│  你修好每一段記憶時，委託人眼裡的淚水是真的。                   │
│  你三點鐘還在改修復方案的那些夜晚是真的。                       │
│  你此刻的憤怒是真的。                                            │
│  真不真實不是看起點。是看終點。」                                │
│  程維倫不說話。但他的手重新放回了鍵盤上。                          │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## 第 14 章：碎片重組

```
┌─────────────────────────────────────────────────────────────────┐
│  第 14 章：碎片重組                                              │
│  演算法：Sorting (Quick/Merge/Heap Sort) / Bit Manipulation      │
│  結構層：第五層 → 第六層轉折                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  程維倫決定直面周明哲。                                            │
│  但要「對話」一個分散在整個網路中的意識，                        │
│  他需要先把周明哲的碎片「重新排列」成可以互動的形態。            │
│                                                                   │
│  一萬三千個碎片，每個都有不同的大小、權重、時間戳。              │
│  程維倫需要把它們排序——                                           │
│  但一般的排序不夠。因為碎片之間有交叉引用。                      │
│                                                                   │
│  他用了三種排序法：                                              │
│  - Quick Sort：快速把碎片按時間戳大致排好（分治法）              │
│  - Merge Sort：把來自不同伺服器的碎片合併為一條時間線            │
│    （適合外部排序——碎片太多，記憶體放不下）                    │
│  - Heap Sort：配合 Priority Queue，確保最重要的碎片先被處理      │
│                                                                   │
│  排序完成後，碎片形成了一段完整的「記憶」。                      │
│  但記憶是加密的。                                                │
│                                                                   │
│  最底層的加密是 Bit Manipulation：                                 │
│  每個 bit 都有意義。XOR 加密、左移右移、位元遮罩——              │
│  周明哲用最原始、最底層的方式保護了自己最核心的記憶。            │
│                                                                   │
│  程維倫逐位元解密。                                                │
│  解開的不是對話介面。                                            │
│  是周明哲的「原始動機記憶」——他為什麼要做這一切。              │
│                                                                   │
│  答案讓所有人都沉默了：                                          │
│  四十年前，周明哲的女兒（林語青）在一場意外中失去了所有記憶。     │
│  變成了「空白人」。                                              │
│  他發明記憶數位化技術——最初的動機只是「把女兒的記憶找回來」。  │
│  但他失敗了。他無法還原已經消失的記憶。                          │
│  所以他做了另一件事：                                            │
│  如果不能找回過去的記憶，那就創造新的記憶。                      │
│  如果一個人的記憶可以被重寫，那所有人的記憶都可以。              │
│  如果所有人的記憶都被重寫成「更好的版本」......                  │
│  那他的女兒就不是「失去記憶的人」——因為所有人的記憶都是新的。  │
│  她就不再是異類。她就能重新「正常」地活著。                      │
│                                                                   │
│  一個父親的愛。扭曲了整個世界。                                  │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「碎片排序」和「底層解密」，自然引入：                       │
│  - Quick Sort / Merge Sort / Heap Sort 的比較                     │
│  - 各自的時間複雜度與適用場景                                    │
│  - Bit Manipulation：AND, OR, XOR, NOT, 左移, 右移               │
│  - 位元遮罩的應用                                                │
│                                                                   │
│  【反轉】                                                        │
│  周明哲的動機不是邪惡的。是愛。                                  │
│  但愛不能為暴行辯護。                                            │
│  更大的反轉是——林語青知道這一切。                                │
│  她從另一條時間線帶來的記憶裡，包含了父親的全部真相。            │
│  她一直在隱瞞。                                                  │
│  因為她不確定程維倫知道真相後，會不會選擇「保護」父親。            │
│                                                                   │
│  【鉤子】                                                        │
│  林語青看著解密後的記憶，眼淚無聲地流下來。                       │
│  「你知道了。」她對程維倫說。                                      │
│  「你一直都知道。」程維倫回答。                                    │
│  「......是的。」                                                 │
│  「他做了不可原諒的事。」程維倫說。                                │
│  「他做了不可原諒的事。為了一個可以原諒的理由。」林語青說。       │
│  沉默。                                                          │
│  然後米亞的聲音打斷了他們：                                      │
│  「各位。我剛完成了對周明哲碎片的完整分析。                      │
│  他不只是在網路裡。他的碎片滲透到了記憶網路的                    │
│  底層協議——MDP本身。                                            │
│  如果要移除他......就要關閉整個記憶數位化系統。                  │
│  所有人的數位記憶。全部。永久。」                                │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```


---

## 第 15 章：最後的選擇

```
┌─────────────────────────────────────────────────────────────────┐
│  第 15 章：最後的選擇                                            │
│  演算法：System Design / Distributed Systems / Bit Manipulation  │
│  結構層：第六層（時間線的真相）                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                   │
│  【劇情】                                                        │
│  最終對決。不是戰鬥——是選擇。                                  │
│                                                                   │
│  程維倫面前有三條路：                                              │
│                                                                   │
│  選項 A：關閉整個記憶數位化系統。                                │
│    → 周明哲的意識會被消滅                                       │
│    → 所有人的數位記憶消失，只剩大腦中的生物記憶                 │
│    → 但那些生物記憶大多已被篡改......人們會陷入混亂              │
│    → 記憶負債者和空白人將徹底失去最後的記憶                     │
│                                                                   │
│  選項 B：讓周明哲完成重寫。                                      │
│    → 所有人獲得「完美」的記憶——沒有痛苦、沒有創傷              │
│    → 但那不是真實的。自由意志被消滅了                           │
│    → 林語青會得到一個「正常的人生」（周明哲的初衷）               │
│                                                                   │
│  選項 C：程維倫自己的方案——                                      │
│    → 不關閉系統，也不讓周明哲完成重寫                           │
│    → 而是「分散式修復」：把真實記憶的碎片                       │
│      散播到整個網路中，讓每個人的記憶晶片                       │
│      自動完成「真實版本」和「篡改版本」的比對                   │
│    → 讓每個人自己選擇要保留哪一個版本                           │
│                                                                   │
│  選項 C 需要設計一個分散式系統：                                 │
│  - 數據分片：把真實記憶拆成碎片，分配到不同伺服器               │
│  - 一致性協議：確保所有節點最終收到相同的資訊                   │
│  - 容錯機制：即使部分節點被周明哲干擾，系統仍能運行             │
│  - 負載平衡：數百萬人同時進行比對，不能讓系統崩潰               │
│                                                                   │
│  程維倫設計了這個系統。                                            │
│  米亞幫他計算了每一個組件的容量。                                │
│  嚴柏翰用深淵監控局的權限打開了所有通道。                        │
│  林語青——提供了那份「未來記憶」中的所有真實碎片                  │
│  作為比對的「正確答案」。                                        │
│  邱韻如——在知道了自己也是棋子之後——                              │
│  選擇了用記憶銀行的基礎設施，支援這個分散式修復系統。            │
│                                                                   │
│  系統上線。                                                      │
│  數百萬個記憶晶片同時開始比對。                                  │
│  每個人的螢幕上出現了兩段記憶：一段是現在的版本，一段是真實的。  │
│  沒有人替你選擇。你自己選。                                      │
│                                                                   │
│  有人選了真實。有人選了虛假。有人選了一半一半。                  │
│  沒有「正確答案」。只有「你的答案」。                            │
│                                                                   │
│  周明哲的分散式意識——                                            │
│  在所有人都做出選擇之後，失去了「宿主」。                        │
│  因為他的存在依賴於「所有人的記憶被統一管理」。                  │
│  當每個人收回了自己記憶的控制權，                                │
│  統一管理的網路就碎裂了。                                        │
│  他的意識碎片散落在風中，像斷了線的風箏。                        │
│                                                                   │
│  但在最後一刻——                                                 │
│  米亞捕捉到了一個微弱的訊號。                                   │
│  周明哲最後的碎片。不是程式碼。是一段記憶。                      │
│  一個年輕的父親，抱著一個小女孩，在夕陽下的公園裡。              │
│  小女孩在笑。父親也在笑。                                       │
│  那是他最早的記憶。也是最後的。                                  │
│  在所有算計、所有陰謀、所有「改變世界」的計畫之下——             │
│  他只是一個想讓女兒記得快樂的父親。                              │
│                                                                   │
│  林語青看著這段記憶。然後她做了一件事：                            │
│  她把這段記憶......存進了自己的記憶晶片裡。                      │
│  不是作為「他的遺產」。                                          │
│  是作為「她自己的記憶」。                                        │
│  因為即使她被重寫過、被利用過、被欺騙過——                      │
│  那個在公園裡笑著的小女孩......是真的。                          │
│  有些記憶，不需要時間戳來證明它是真的。                          │
│                                                                   │
│  【演算法教學】                                                  │
│  通過「設計分散式記憶修復系統」，自然引入：                       │
│  - System Design 的核心概念                                      │
│  - 分散式系統：分片、複製、一致性                                │
│  - CAP 定理（一致性 vs 可用性 vs 分區容錯）                      │
│  - 負載平衡策略                                                  │
│  - 最終一致性（Eventual Consistency）                              │
│  - Bit Manipulation 在底層協議中的應用                            │
│                                                                   │
│  【反轉】                                                        │
│  最後的反轉不是劇情上的——是哲學上的。                          │
│  程維倫沒有「打倒Boss」。他給了每個人選擇的權利。                  │
│  而有些人會選擇假的記憶。                                        │
│  這不是「失敗」。這是「自由」。                                  │
│  真正的自由不是只有一個正確答案——                               │
│  是你知道所有選項之後，自己做的選擇。                            │
│                                                                   │
│  【鉤子（尾聲預告）】                                            │
│  故事的最後一行。                                                │
│  程維倫回到了他六坪的公寓。牆上的列印稿還在。                     │
│  他泡了一杯咖啡，坐在工作台前。                                  │
│  門鈴響了。                                                      │
│  他打開門。                                                      │
│  一個他從沒見過的年輕人站在外面，手裡拿著一個記憶晶片。          │
│  「請問......你是程維倫嗎？記憶修復師？」                          │
│  「是。」                                                        │
│  「我有一段記憶需要修復。時間戳是......」                        │
│  年輕人看著晶片上的數據，皺起了眉。                              │
│  「......2087年。兩年前。但我不記得那一年發生過任何事。」         │
│  程維倫看著他，微微笑了。                                          │
│  「進來吧。」                                                    │
│  他把咖啡放下，打開了修復台。                                    │
│  米亞的藍色光球亮了起來：「又來生意了？」                       │
│  「嗯。」                                                        │
│  「這次的難度？」                                                │
│  程維倫看了看記憶晶片上的數據。                                    │
│  「......有趣。」                                                │
│                                                                   │
│  （全書完——但門永遠開著。）                                     │
│                                                                   │
└─────────────────────────────────────────────────────────────────┘
```


---

---

# 第六部分：為什麼這個設定適合教演算法

---

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                       │
│   一句話：因為「記憶修復」這個行為本身就是在操作資料結構。           │
│   讀者不是在「學演算法」。讀者是在「跟主角一起修記憶」。           │
│   學習發生在沉浸中，不是在課堂裡。                                 │
│                                                                       │
└─────────────────────────────────────────────────────────────────────┘
```

### 1. 天然的資料結構映射

```
在大多數「演算法故事」中，資料結構是比喻。
在《記憶駭客》中，資料結構是設定。

  記憶的視覺幀 → 就是 Array
  記憶的時間線 → 就是 Linked List
  記憶的層次   → 就是 Tree
  記憶的網路   → 就是 Graph
  記憶的指紋   → 就是 Hash

不需要「想像」Array 是什麼。
打開一段記憶，裡面的影像序列就是 Array。
這是其他設定很難做到的「零距離映射」。
```

### 2.「修復」天然是演算法操作

```
修復師的工作流程：

  接到損壞的記憶
  → 分析結構（這是什麼資料結構？）
  → 診斷問題（哪裡壞了？用什麼方法判斷？）
  → 選擇演算法（用什麼方法修？）
  → 執行修復（跑演算法！）
  → 驗證結果（修好了嗎？時間複雜度如何？）

這就是解題的完整流程。
讀者跟著主角「修記憶」= 讀者在練習解題思維。
```

### 3. 反向工程 = 演算法思維的核心

```
主角的工作不是「建造」——是「逆向」。
他看到一個被篡改的結果，要推導出原始狀態。

這正是演算法教學中最重要的思維方式：
  看到輸出 → 推導過程 → 理解原理

「反向工程」比「正向建構」更適合教學。
因為它逼你理解「為什麼」，而不只是「怎麼做」。
```

### 4. 陰謀的層層揭露 = 知識的層層深入

```
六層結構的設計不只是為了劇情。
它對映了演算法學習的六個階段：

  第一層（基礎）    → Array, HashMap, Sliding Window
  第二層（進階）    → Stack, Queue, Linked List, Binary Search
  第三層（樹與圖）  → Tree, Graph
  第四層（高階）    → TopSort, Union-Find, Dijkstra, DP
  第五層（挑戰）    → Backtracking, Greedy, Heap, Trie
  第六層（系統）    → Sorting, Bit Manipulation, System Design

讀者在追劇情的同時，不知不覺中完成了一條完整的學習路徑。
每一層的「震撼」讓他們對演算法的理解也升一層。
```

### 5. 記憶主題的哲學深度讓故事「值得讀」

```
一本「教演算法的小說」最大的風險是：
讀者覺得「演算法是正餐，故事是調味料」。

記憶主題避免了這個問題。因為它觸及了人類最深層的問題：

  ▸ 什麼是真實？如果你的記憶都是假的，你還是你嗎？
  ▸ 記憶定義了我們是誰。如果記憶可以被改寫，「自我」還存在嗎？
  ▸ 一個父親為了女兒改寫了世界——這是愛還是暴行？
  ▸ 如果可以刪除所有痛苦的記憶，你會刪嗎？
  ▸ 「真實但痛苦」vs「虛假但美好」——你選哪一個？

這些問題讓讀者在放下書之後還會思考。
不只是思考演算法——而是思考「演算法對人類意味著什麼」。
```

### 6. 每個角色的記憶都可能是假的 = 極致的懸疑性

```
這是本書最強的「讓人想看下去」的武器：

你永遠不知道誰在說真話。
因為在這個世界裡，連「說話的人自己」都不知道自己的記憶是不是真的。

  程維倫的過去？可能是設計好的。
  林語青的身份？可能有第三個真相。
  嚴柏翰的忠誠？建立在假記憶上。
  邱韻如的信念？被植入的。
  周明哲的動機？可能連他自己都被自己騙了。
  米亞的情感？來自別人的記憶。

每一章都在拆解「你以為的真相」，再給你一個「新的真相」。
然後下一章又拆掉它。

讀者會上癮。
不是因為演算法——是因為他們想知道「到底什麼是真的」。
而演算法......是解開真相的工具。

這就是為什麼他們會記住每一個演算法。
因為每一個演算法，都連著一個讓他們屏住呼吸的瞬間。
```

---

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                       │
│  最後一句話：                                                        │
│                                                                       │
│  《記憶駭客》不是一本「用故事包裝演算法」的書。                      │
│  它是一本「讓你在追求真相的路上，自然學會演算法」的書。              │
│                                                                       │
│  記憶是假的。感動是真的。演算法是永恆的。                            │
│                                                                       │
└─────────────────────────────────────────────────────────────────────┘
```

