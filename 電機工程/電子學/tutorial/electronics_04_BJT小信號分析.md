# 電子學（四）：BJT 小信號分析

## 🔰 本章基礎觀念（零基礎必讀）

### 為什麼需要小信號分析？

BJT 是一個非線性元件（電流和電壓是指數關係），但我們希望放大器對信號是線性的。解決辦法是：

1. **先設定直流工作點（Q 點）**—— 這是上一章學的偏壓設計
2. **在 Q 點附近加上小的交流信號** —— 在很小的範圍內，指數曲線看起來像一條直線

這就是**小信號分析**的核心思想：**把非線性元件在操作點附近線性化**。

### 分析步驟（超級重要！）

1. **直流分析**：把所有電容當斷路，求 Q 點（ICQ, VCEQ）
2. **小信號分析**：把所有直流電源當短路（接地），把電容當短路，用小信號等效電路分析
3. **疊加**：完整響應 = 直流 + 交流

> **白話比喻**：直流分析決定「你站在山坡的哪個位置」，小信號分析決定「在那個位置附近，坡度有多陡」（增益多大）。

---

## 一、小信號參數

### 1.1 轉導 gm（Transconductance）

$$g_m = \frac{I_C}{V_T} = \frac{I_C}{0.026} \quad (\text{室溫})$$

**物理意義**：VBE 每變化 1V，IC 變化多少安培。
**單位**：A/V 或 S（Siemens，西門子）

### 1.2 輸入電阻 rπ

$$r_\pi = \frac{\beta}{g_m} = \frac{\beta V_T}{I_C}$$

**物理意義**：從基極看進去的小信號電阻。

### 1.3 輸出電阻 ro

$$r_o = \frac{V_A}{I_C}$$

**物理意義**：Early 效應造成的有限輸出電阻。

### 數值例題 4.1：小信號參數計算

> **題目**：BJT 工作在 IC = 1 mA，β = 100，VA = 100V。求 gm、rπ、ro。
>
> **解答**：
> gm = IC/VT = 1m/0.026 = 38.46 mA/V = 38.46 mS
> rπ = β/gm = 100/38.46m = 2.6 kΩ
> ro = VA/IC = 100/1m = 100 kΩ
>
> **結果**：gm = 38.46 mS，rπ = 2.6 kΩ，ro = 100 kΩ

### 數值例題 4.2：不同工作點的小信號參數

> **題目**：同一個 BJT（β = 100, VA = 100V），分別在 IC = 0.1mA 和 IC = 10mA 時求參數。
>
> **解答**：
>
> | 參數 | IC = 0.1mA | IC = 1mA | IC = 10mA |
> |------|-----------|---------|----------|
> | gm | 3.85 mS | 38.5 mS | 385 mS |
> | rπ | 26 kΩ | 2.6 kΩ | 260 Ω |
> | ro | 1 MΩ | 100 kΩ | 10 kΩ |
>
> **觀察**：IC 越大，gm 越大（放大能力強），但 rπ 和 ro 越小。

---

## 二、混合 π 模型（Hybrid-π Model）

### 2.1 完整模型

在 B-E 之間放一個 rπ，用一個受控電流源 gm × vπ 從 C 流到 E，在 C-E 之間放一個 ro。

```
    B ──── rπ ──── E
           |        |
          vπ        |
           |        |
    C ── gm·vπ ── ro ── E
```

更精確的畫法：
- 基極(B) 到射極(E)：rπ（兩端電壓為 vπ = vbe）
- 集極(C) 到射極(E)：受控電流源 gm·vπ 並聯 ro

### 2.2 簡化模型

當 ro >> RC//RL 時（通常成立），可以忽略 ro：
- 只剩 rπ 和 gm·vπ
- 這是考試中最常用的模型

---

## 三、T 模型（T Model）

### 3.1 模型結構

另一種等效模型，把 rπ 換成從射極看進去的電阻 re：

$$r_e = \frac{V_T}{I_C} = \frac{\alpha}{g_m} \approx \frac{1}{g_m}$$

**關係**：rπ = (β+1) × re ≈ β × re

### 3.2 何時用 T 模型？

T 模型在分析**共基極（CB）**和**共集極（CC）**組態時特別方便。

---

## 四、共射極放大器（Common Emitter, CE）

### 4.1 電路描述

- 輸入信號加在基極
- 輸出信號從集極取出
- 射極接地（或透過 RE 接地）

### 4.2 小信號分析（不含 RE）

**電壓增益 Av**：
$$A_v = \frac{v_o}{v_i} = -g_m (R_C \| R_L \| r_o) \approx -g_m (R_C \| R_L)$$

**負號表示反相！**

**輸入電阻 Rin**：
$$R_{in} = R_1 \| R_2 \| r_\pi$$

**輸出電阻 Rout**：
$$R_{out} = R_C \| r_o \approx R_C$$

### 4.3 含射極退化電阻 RE 的 CE 放大器

加了 RE（交流未被旁路）後：

$$A_v = \frac{-g_m(R_C \| R_L)}{1 + g_m R_E} \approx -\frac{R_C \| R_L}{R_E} \quad (\text{若} \; g_m R_E \gg 1)$$

$$R_{in} = R_1 \| R_2 \| [r_\pi + (\beta+1)R_E]$$

**加 RE 的好處**：
- 增益更穩定（不依賴 gm，只靠電阻比）
- 線性度更好
- 代價：增益降低

### 數值例題 4.3：基本 CE 放大器

> **題目**：CE 放大器，IC = 2mA，β = 100，VA = ∞，RC = 4kΩ，RL = 4kΩ。
> 偏壓用 R1 = 40kΩ，R2 = 10kΩ。求 Av、Rin、Rout。
>
> **解答**：
> 步驟一：小信號參數
> gm = 2m/0.026 = 76.9 mS
> rπ = 100/76.9m = 1.3 kΩ
>
> 步驟二：電壓增益
> Av = -gm(RC ∥ RL) = -76.9m × (4k ∥ 4k) = -76.9m × 2k = -153.8
>
> 步驟三：輸入電阻
> Rin = R1 ∥ R2 ∥ rπ = 40k ∥ 10k ∥ 1.3k = 8k ∥ 1.3k = 1.118 kΩ
>
> 步驟四：輸出電阻
> Rout = RC = 4 kΩ
>
> **結果**：Av = -153.8（反相，放大153.8倍），Rin = 1.118kΩ，Rout = 4kΩ

### 數值例題 4.4：含 RE 的 CE 放大器

> **題目**：延續上題，加上 RE = 500Ω（交流不旁路）。求新的 Av 和 Rin。
>
> **解答**：
> Av = -gm(RC∥RL)/(1 + gmRE)
> = -76.9m × 2k / (1 + 76.9m × 500)
> = -153.8 / (1 + 38.45) = -153.8/39.45 = -3.90
>
> Rin = R1 ∥ R2 ∥ [rπ + (β+1)RE]
> = 8k ∥ [1.3k + 101 × 500]
> = 8k ∥ [1.3k + 50.5k]
> = 8k ∥ 51.8k = 6.93 kΩ
>
> **結果**：Av = -3.90（增益大幅降低），Rin = 6.93kΩ（大幅提升）
>
> **近似檢查**：Av ≈ -(RC∥RL)/RE = -2k/500 = -4（與精確值接近）

---

## 五、共基極放大器（Common Base, CB）

### 5.1 電路描述

- 輸入信號加在射極
- 輸出信號從集極取出
- 基極交流接地

### 5.2 小信號分析

**電壓增益 Av**：
$$A_v = g_m (R_C \| R_L \| r_o) \approx g_m (R_C \| R_L)$$

**注意：正號，不反相！**

**輸入電阻 Rin**：
$$R_{in} = r_e \| \frac{r_o + R_C}{1 + g_m r_o} \approx r_e = \frac{1}{g_m}$$

**非常低的輸入電阻**

**輸出電阻 Rout**：
$$R_{out} = r_o[1 + g_m(R_S \| r_\pi)] + (R_S \| r_\pi) \approx r_o \cdot g_m \cdot r_\pi = \beta r_o$$

若忽略 ro 效應：Rout ≈ RC

### 5.3 CB 的特點

| 特性 | 值 |
|------|-----|
| 電壓增益 | 與 CE 相同量級（但不反相） |
| 電流增益 | ≈ α ≈ 1（無電流增益） |
| 輸入電阻 | 非常低（1/gm） |
| 輸出電阻 | 非常高 |
| 高頻特性 | 優於 CE（無米勒效應） |

### 數值例題 4.5：CB 放大器

> **題目**：CB 放大器，IC = 1mA，β = 100，RC = 10kΩ，無外部負載。求 Av、Rin。
>
> **解答**：
> gm = 1m/0.026 = 38.46 mS
> re = 1/gm = 26 Ω
>
> Av = gm × RC = 38.46m × 10k = 384.6
> Rin ≈ re = 26 Ω
>
> **結果**：Av = +384.6（不反相），Rin = 26Ω（非常低）

---

## 六、共集極放大器（Common Collector, CC / Emitter Follower）

### 6.1 電路描述

- 輸入信號加在基極
- 輸出信號從射極取出
- 集極交流接地（接 VCC，交流等效為接地）

### 6.2 小信號分析

**電壓增益 Av**：
$$A_v = \frac{g_m(R_E \| R_L)}{1 + g_m(R_E \| R_L)} \approx 1$$

**增益接近 1，但不反相** → 射極跟隨器（Emitter Follower）

**輸入電阻 Rin**：
$$R_{in} = r_\pi + (\beta+1)(R_E \| R_L)$$

**非常高的輸入電阻**

**輸出電阻 Rout**：
$$R_{out} = R_E \| \left(\frac{r_\pi + R_S}{\beta + 1}\right) \approx R_E \| \frac{R_S}{\beta}$$

**非常低的輸出電阻**

### 6.3 CC 的用途

- **阻抗匹配 / 緩衝器（Buffer）**：高輸入阻抗、低輸出阻抗
- 放在高阻抗信號源和低阻抗負載之間
- 雖然電壓增益 ≈ 1，但有很大的**功率增益**

### 數值例題 4.6：CC 放大器（射極跟隨器）

> **題目**：CC 放大器，IC = 2mA，β = 150，RE = 2kΩ，RL = 1kΩ，RS = 10kΩ。
> 求 Av、Rin、Rout。
>
> **解答**：
> gm = 2m/0.026 = 76.9 mS
> rπ = 150/76.9m = 1.95 kΩ
>
> Av = gm(RE∥RL)/(1 + gm(RE∥RL))
> RE∥RL = 2k∥1k = 667Ω
> Av = 76.9m × 667/(1 + 76.9m × 667) = 51.3/(1 + 51.3) = 51.3/52.3 = 0.981
>
> Rin = rπ + (β+1)(RE∥RL) = 1.95k + 151 × 667 = 1.95k + 100.7k = 102.7 kΩ
>
> Rout = RE ∥ (rπ + RS)/(β+1)
> = 2k ∥ (1.95k + 10k)/151
> = 2k ∥ 79.1Ω = 76.1 Ω
>
> **結果**：Av = 0.981 ≈ 1，Rin = 102.7kΩ（高），Rout = 76.1Ω（低）

---

## 七、三種組態完整比較

| 特性 | CE（共射極） | CB（共基極） | CC（共集極） |
|------|------------|------------|------------|
| 電壓增益 Av | **中~高，反相** | 高，同相 | ≈ 1，同相 |
| 電流增益 Ai | β（高） | α ≈ 1 | β+1（高） |
| 輸入阻抗 Rin | 中（rπ） | **低（re）** | **高**（(β+1)RE） |
| 輸出阻抗 Rout | 中~高（RC） | **很高** | **低** |
| 頻率響應 | 受米勒效應限制 | **最好** | 好 |
| 主要用途 | 一般放大 | 高頻放大 | 緩衝器/驅動器 |

### 數值例題 4.7：三種組態在相同條件下的比較

> **題目**：BJT 的 IC = 1mA，β = 100，VA = ∞，RC = RE = 5kΩ。
> 比較三種組態的 Av（無外部負載）。
>
> **解答**：
> gm = 1m/0.026 = 38.46 mS，rπ = 2.6kΩ
>
> CE：Av = -gm × RC = -38.46m × 5k = **-192.3**
> CB：Av = gm × RC = 38.46m × 5k = **+192.3**
> CC：Av = gm × RE/(1+gm × RE) = 192.3/193.3 = **+0.995**

---

## 八、多級放大器簡介

### 8.1 串級（Cascade）

將多個放大器級聯：
$$A_{v,total} = A_{v1} \times A_{v2} \times A_{v3} \times \cdots$$

### 8.2 常見組合

- **CE + CE**：高增益（增益相乘）
- **CE + CC**：CE 提供增益，CC 提供低輸出阻抗
- **CC + CE**：CC 提供高輸入阻抗，CE 提供增益
- **CC + CB（Cascode）**：高增益 + 好的高頻特性

### 數值例題 4.8：兩級放大器

> **題目**：第一級 CE 增益 Av1 = -50，輸出阻抗 Rout1 = 5kΩ。
> 第二級 CE 增益（空載）Av2 = -100，輸入阻抗 Rin2 = 2kΩ。
> 求整體電壓增益。
>
> **解答**：
> 第一級的實際輸出會因為第二級的輸入阻抗而分壓：
> Av1_actual = Av1 × Rin2/(Rout1 + Rin2) = -50 × 2k/(5k + 2k) = -50 × 0.286 = -14.3
>
> 整體增益 = Av1_actual × Av2 = (-14.3) × (-100) = +1430
>
> **結果**：整體增益 = 1430（兩個反相疊加變成同相）
>
> **注意**：如果不考慮級間負載效應，會得到 50 × 100 = 5000，嚴重高估！

---

## 關鍵術語表

| 中文 | 英文 | 白話解釋 | 例子 |
|------|------|---------|------|
| 小信號分析 | Small-signal Analysis | 在直流工作點附近做線性化分析 | 求放大器增益 |
| 轉導 | Transconductance (gm) | 輸入電壓變化引起的輸出電流變化 | gm = IC/VT |
| 混合π模型 | Hybrid-π Model | BJT的小信號等效電路 | rπ + gm·vπ |
| 共射極 | Common Emitter (CE) | 射極接地，最常用的放大組態 | 一般電壓放大器 |
| 共基極 | Common Base (CB) | 基極交流接地 | 高頻放大器 |
| 共集極 | Common Collector (CC) | 集極交流接地 | 射極跟隨器 |
| 射極跟隨器 | Emitter Follower | CC組態的別名，增益≈1 | 緩衝器 |
| 射極退化 | Emitter Degeneration | CE加上未旁路的RE | 穩定增益 |
| 反相 | Inverting | 輸出與輸入相位差180° | CE放大器 |
| 級間耦合 | Interstage Coupling | 多級放大器之間的連接 | 用電容或直接耦合 |

---

## 題型鑑別

| 看到什麼條件 | 用什麼方法 |
|-------------|-----------|
| 「求小信號參數」、給了 IC、β、VA | gm = IC/VT，rπ = β/gm，ro = VA/IC |
| 「CE 放大器、求增益」 | Av = -gm(RC∥RL)，注意負號 |
| 「含 RE、未旁路」 | Av = -gm(RC∥RL)/(1+gmRE) |
| 「CB 放大器」 | Av = +gm(RC∥RL)，Rin ≈ 1/gm |
| 「CC / 射極跟隨器」 | Av ≈ 1，Rin 高，Rout 低 |
| 「多級放大器」 | 注意級間阻抗匹配，增益要乘衰減因子 |
| 「求輸入/輸出阻抗」 | 畫小信號等效電路，加測試電壓求電流 |

---

## ✅ 自我檢測

### 概念題

1. 小信號分析中，直流電源怎麼處理？電容怎麼處理？
2. gm 和 IC 是什麼關係？IC 越大，gm 越大還是越小？
3. CE 放大器為什麼是反相的？
4. CC 放大器的主要用途是什麼？
5. 為什麼加了射極退化電阻會使增益更穩定？

<details>
<summary>點擊查看答案</summary>

1. **直流電源當作短路（接地），電容當作短路。** 因為我們只看交流信號，直流電源對交流沒有電壓變化，大電容對交流的阻抗趨近零。

2. **gm = IC/VT，IC 越大 gm 越大。** gm 和 IC 成正比，這意味著工作電流越大，放大能力越強（但耗電也越多）。

3. **因為 IC 增加時，VRC = IC × RC 增大，所以 VO = VCC - IC × RC 減小。** 輸入增大導致輸出減小，這就是反相。

4. **阻抗匹配 / 緩衝器。** CC 有高輸入阻抗和低輸出阻抗，雖然電壓增益 ≈ 1，但可以有效地將信號從高阻抗源傳遞到低阻抗負載。

5. **因為增益變成 Av ≈ -(RC∥RL)/RE，只由電阻比決定，不依賴 gm。** 而 gm 會隨溫度和工作點變化，所以不依賴 gm 的增益更穩定。

</details>

### 計算題

6. IC = 0.5 mA，β = 200，VA = 80V。求 gm、rπ、ro。
7. CE 放大器，IC = 2mA，β = 100，RC = 5kΩ，RL = 5kΩ。求 Av。
8. 上題加上 RE = 200Ω（交流未旁路），求新的 Av。
9. CC 放大器，IC = 5mA，β = 100，RE = 1kΩ，RL = 100Ω。求 Av 和 Rout（RS = 1kΩ）。
10. 兩級 CE-CC：第一級 Av1 = -80（Rout1 = 3kΩ），第二級 CC 的 Rin2 = 50kΩ，Av2 = 0.99。求整體增益。

<details>
<summary>點擊查看答案</summary>

6. gm = 0.5m/0.026 = 19.23 mS
   rπ = 200/19.23m = 10.4 kΩ
   ro = 80/0.5m = 160 kΩ

7. gm = 2m/0.026 = 76.9 mS
   Av = -76.9m × (5k∥5k) = -76.9m × 2.5k = -192.3

8. Av = -76.9m × 2.5k / (1 + 76.9m × 200)
   = -192.3 / (1 + 15.38) = -192.3/16.38 = -11.74

9. gm = 5m/0.026 = 192.3 mS，rπ = 100/192.3m = 520Ω
   RE∥RL = 1k∥100 = 90.9Ω
   Av = 192.3m × 90.9 / (1 + 192.3m × 90.9) = 17.48/18.48 = 0.946
   Rout = RE ∥ (rπ + RS)/(β+1) = 1k ∥ (520 + 1000)/101 = 1k ∥ 15.05 = 14.8Ω

10. Av_total = Av1 × [Rin2/(Rout1 + Rin2)] × Av2
    = (-80) × [50k/(3k+50k)] × 0.99
    = (-80) × 0.943 × 0.99 = -74.7

</details>

---

> **下一篇**：[electronics_05_MOSFET基本特性與偏壓](electronics_05_MOSFET基本特性與偏壓.md) — 進入現代 IC 的核心元件！
